!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("expangine-runtime")):"function"==typeof define&&define.amd?define(["expangine-runtime"],t):"object"==typeof exports?exports["expangine-runtime-live"]=t(require("expangine-runtime")):n["expangine-runtime-live"]=t(n["expangine-runtime"])}(window,(function(n){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var u in n)e.d(r,u,function(t){return n[t]}.bind(null,u));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=1)}([function(t,e){t.exports=n},function(n,t,e){"use strict";e.r(t);var r=e(0),u=new r.Runtime(r.defs);function i(n,t){var e={};for(var r in t){var u=t[r];e[u]=n[u]}return e}function o(n,t){for(var e in t)void 0===t[e]?delete n[e]:n[e]=t[e]}function a(n,t,e){var r=t.map((function(t){return n[t]})),u=e();return r.forEach((function(e,r){return void 0===e?delete n[t[r]]:n[t[r]]=e})),u}function c(n,t,e){return n?n(t):e}function f(n,t,e){return void 0===e&&(e=!1),n?!!n(t):e}function s(n,t){return function(e,r,u){if(void 0===u&&(u=t),!e)return u;var i=e(r);return n(i)?i:u}}function p(n,t){return function(e,r,u){if(void 0===u&&(u=t),!e)return u();var i=e(r);return n(i)?i:u()}}var l=s(r.isNumber,Number.NaN),v=s(r.isNumber,void 0),O=s(r.isString,""),d=s(r.isString,void 0),m=p(r.isArray,(function(){return[]})),h=p(r.isMap,(function(){return new Map})),b=p(r.isObject,(function(){return{}})),y=p(r.isDate,(function(){return new Date}));function g(n,t){return[n(t)]}function x(n,t){return new Map([["value",n(t)]])}function j(n,t){return{value:n(t)}}function M(n,t){return[n(t)]}var E=function(){return(E=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var u in t=arguments[e])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}).apply(this,arguments)},w=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],e=0;return t?t.call(n):{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}},C=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,u,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(n){u={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},D=function(n){n.setExpression(r.ConstantExpression,(function(n,t){return function(){return n.value}})),n.setExpression(r.GetExpression,(function(n,t){var e=n.path.map((function(n){return t.getCommand(n)}));return function(n){for(var t=n,u=0;u<e.length&&!Object(r.isUndefined)(t);u++){var i=e[u](n);if(Object(r.isUndefined)(t[i]))return;t=t[i]}return t}})),n.setExpression(r.SetExpression,(function(n,t){var e=n.path.map((function(n){return t.getCommand(n)})),u=e.length-1,i=t.getCommand(n.value);return function(n){for(var t=n,o=0;o<u&&!Object(r.isUndefined)(t);o++){var a=e[o](n);if(Object(r.isUndefined)(t[a]))return!1;t=t[a]}return!Object(r.isUndefined)(t)&&(t[e[u](n)]=i(n),!0)}})),n.setExpression(r.UpdateExpression,(function(n,t){var e=n.path.map((function(n){return t.getCommand(n)})),u=e.length-1,i=t.getCommand(n.value),o=n.currentVariable;return function(n){for(var t=n,c=0;c<u&&!Object(r.isUndefined)(t);c++){var f=e[c](n);if(Object(r.isUndefined)(t[f]))return!1;t=t[f]}if(!Object(r.isUndefined)(t)){var s=e[u](n);return a(n,[o],(function(){n[o]=t[s],t[s]=i(n)})),!0}return!1}})),n.setExpression(r.OperationExpression,(function(n,t){var e=Object(r.objectMap)(n.params,(function(n){return t.getCommand(n)})),u=t.getOperation(n.name);if(!u)throw new Error("Operation with "+n.name+" is not defined in the given runtime.");var i=t.getOperationScopeDefaults(n.name),o=n.scopeAlias;if(i)for(var a in i)a in o||(o===n.scopeAlias&&(o=E({},o)),o[a]=i[a]);var c=u(e,o);return function(n){if(!(t.returnProperty in n))return c(n)}})),n.setExpression(r.ChainExpression,(function(n,t){var e=n.chain.map((function(n){return t.getCommand(n)}));return function(n){var r,u;if(!(t.returnProperty in n)){var i;try{for(var o=w(e),a=o.next();!a.done;a=o.next()){if(i=(0,a.value)(n),t.returnProperty in n)return}}catch(n){r={error:n}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(r)throw r.error}}return i}}})),n.setExpression(r.IfExpression,(function(n,t){var e=n.cases.map((function(n){var e=C(n,2),r=e[0],u=e[1];return[t.getCommand(r),t.getCommand(u)]})),r=t.getCommand(n.otherwise);return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=w(e),a=o.next();!a.done;a=o.next()){var c=a.value,f=C(c,2),s=f[0],p=f[1];if(s(n))return t.returnProperty in n?void 0:p(n)}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}if(!(t.returnProperty in n))return r(n)}}})),n.setExpression(r.SwitchExpression,(function(n,t){var e=t.getCommand(n.value),r=n.cases.map((function(n){var e=C(n,2),r=e[0],u=e[1];return[r.map((function(n){return t.getCommand(n)})),t.getCommand(u)]})),u=t.getCommand(n.defaultCase),i=t.getOperation(n.op),o={};return function(n){var a,c,f,s;if(!(t.returnProperty in n)){var p=e(n);if(!(t.returnProperty in n)){try{for(var l=w(r),v=l.next();!v.done;v=l.next()){var O=C(v.value,2),d=O[0],m=O[1],h=!1;try{for(var b=w(d),y=b.next();!y.done;y=b.next()){var g=y.value;if(i({value:function(){return p},test:g},o)(n)){h=!0;break}if(t.returnProperty in n)return}}catch(n){f={error:n}}finally{try{y&&!y.done&&(s=b.return)&&s.call(b)}finally{if(f)throw f.error}}if(h)return m(n)}}catch(n){a={error:n}}finally{try{v&&!v.done&&(c=l.return)&&c.call(l)}finally{if(a)throw a.error}}return u(n)}}}})),n.setExpression(r.NotExpression,(function(n,t){var e=t.getCommand(n.expression);return function(n){return!e(n)}})),n.setExpression(r.AndExpression,(function(n,t){var e=n.expressions.map((function(n){return t.getCommand(n)})),r=e.length>0;return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=w(e),a=o.next();!a.done;a=o.next()){if(!(0,a.value)(n)||t.returnProperty in n)return!1}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}return r}}})),n.setExpression(r.OrExpression,(function(n,t){var e=n.expressions.map((function(n){return t.getCommand(n)})),r=0===e.length;return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=w(e),a=o.next();!a.done;a=o.next()){var c=(0,a.value)(n);if(c||t.returnProperty in n)return c}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}return r}}})),n.setExpression(r.ForExpression,(function(n,t){var e=n.variable,r=t.getCommand(n.start),u=t.getCommand(n.end),i=t.getCommand(n.body),o=n.breakVariable,c=n.maxIterations;return function(n){if(!(t.returnProperty in n))return a(n,[e,o],(function(){n[o]=!1;var a,f=r(n),s=0,p=u(n),l=f<p?1:-1;if(!(t.returnProperty in n)){for(;(1===l?f<=p:f>=p)&&s++<c&&(n[e]=f,a=i(n),!(n[o]||t.returnProperty in n));)if(f+=l,p=u(n),t.returnProperty in n)return;return a}}))}})),n.setExpression(r.WhileExpression,(function(n,t){var e=t.getCommand(n.condition),r=t.getCommand(n.body),u=n.breakVariable,i=n.maxIterations;return function(n){if(!(t.returnProperty in n))return a(n,[u],(function(){var o,a=0;for(n[u]=!1;e(n)&&a++<i;){if(t.returnProperty in n)return;if(o=r(n),n[u]||t.returnProperty in n)break}return o}))}})),n.setExpression(r.DoExpression,(function(n,t){var e=t.getCommand(n.condition),r=t.getCommand(n.body),u=n.breakVariable,i=n.maxIterations;return function(n){if(!(t.returnProperty in n))return a(n,[u],(function(){var o,a=0;n[u]=!1;do{if(t.returnProperty in n)return;if(o=r(n),n[u]||t.returnProperty in n)break}while(e(n)&&a++<i);return o}))}})),n.setExpression(r.DefineExpression,(function(n,t){var e=Object(r.objectMap)(n.define,(function(n){return t.getCommand(n)})),u=t.getCommand(n.body);return function(n){if(!(t.returnProperty in n)){var r={};for(var i in e)r[i]=n[i];for(var i in e)if(n[i]=e[i](n),t.returnProperty in n)return void o(n,r);var a=u(n);return o(n,r),a}}})),n.setExpression(r.TemplateExpression,(function(n,t){var e=Object(r.objectMap)(n.params,(function(n){return t.getCommand(n)})),u=n.template.split(/[\{\}]/).map((function(n,t){return t%2==0?function(t){return n}:function(t){return t&&n in t?t[n]:""}}));return function(n){var t=Object(r.objectMap)(e,(function(t){return t(n)}));return u.reduce((function(n,e){return n+e(t)}),"")}})),n.setExpression(r.InvokeExpression,(function(n,t){var e=t.getFunction(n.name),u=t.getCommand(e.options.expression),i=Object(r.objectMap)(n.args,(function(n){return t.getCommand(n)}));return function(n){if(!(t.returnProperty in n)){var e=Object(r.objectMap)(i,(function(t){return t(n)}));return u(e),e[t.returnProperty]}}})),n.setExpression(r.ReturnExpression,(function(n,t){var e=t.getCommand(n.value);return function(n){return n[t.returnProperty]=e(n)}})),n.setExpression(r.TupleExpression,(function(n,t){var e=n.expressions.map((function(n){return t.getCommand(n)}));return function(n){return e.map((function(t){return t(n)}))}})),n.setExpression(r.ObjectExpression,(function(n,t){var e=Object(r.objectMap)(n.props,(function(n){return t.getCommand(n)}));return function(n){return Object(r.objectMap)(e,(function(t){return t(n)}))}})),n.setExpression(r.NoExpression,(function(){return function(){}}))},L=function(n){var t=r.AnyOps;n.setOperation(t.cmp,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(r.copy)(n.value(t))}})),n.setOperation(t.isValid,(function(n){return function(n){return!0}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(r.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(r.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(r.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return g(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return x(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){var e=parseFloat(n.value(t));return isFinite(e)?e:0}})),n.setOperation(t.asObject,(function(n){return function(t){return j(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return Object(r.toString)(n.value(t))}})),n.setOperation(t.asTuple,(function(n){return function(t){return M(n.value,t)}}))},T=function(n){var t=r.BooleanOps;n.setOperation(t.create,(function(n){return function(n){return!1}})),n.setOperation(t.and,(function(n){return function(t){return f(n.a,t)&&f(n.b,t)}})),n.setOperation(t.or,(function(n){return function(t){return f(n.a,t)||f(n.b,t)}})),n.setOperation(t.xor,(function(n){return function(t){return f(n.a,t)!==f(n.b,t)}})),n.setOperation(t.not,(function(n){return function(t){return!f(n.a,t)}})),n.setOperation(t.cmp,(function(n){return function(t){return(f(n.value,t)?1:0)-(f(n.test,t)?1:0)}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(r.isBoolean)(n.value(t))}})),n.setOperation(t.isTrue,(function(n){return function(t){return f(n.value,t,!1)}})),n.setOperation(t.isFalse,(function(n){return function(t){return!f(n.value,t,!1)}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(t.asDate,(function(n){return function(n){return new Date}})),n.setOperation(t.asList,(function(n){return function(t){return g(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return x(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return n.value(t)?1:0}})),n.setOperation(t.asObject,(function(n){return function(t){return j(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)?"true":"false"}})),n.setOperation(t.asTuple,(function(n){return function(t){return M(n.value,t)}}))},N=function(n){var t=r.DateOps;n.setOperation(t.create,(function(n){return function(n){return new Date}})),n.setOperation(t.now,(function(n){return function(n){return new Date}})),n.setOperation(t.today,(function(n){return function(n){return r.startOf.day(new Date)}})),n.setOperation(t.tomorrow,(function(n){return function(n){return Object(r.mutate)(Object(r.mutate)(new Date,r.startOf.day),(function(n){return r.add.day(n,1)}))}})),n.setOperation(t.yesterday,(function(n){return function(n){return Object(r.mutate)(Object(r.mutate)(new Date,r.startOf.day),(function(n){return r.add.day(n,-1)}))}})),n.setOperation(t.parse,(function(n){return function(t){return f(n.parseAsUTC,t,!1)?new r.DateType({parseAsUTC:!0}).normalize(n.value(t)):r.DateType.baseType.normalize(n.value(t))}})),n.setOperation(t.fromText,(function(n){return function(t){return r.DateType.baseType.normalize(O(n.value,t))}})),n.setOperation(t.fromTimestamp,(function(n){return function(t){return new Date(l(n.value,t,Date.now()))}})),n.setOperation(t.fromTimestampSeconds,(function(n){return function(t){return new Date(1e3*l(n.value,t,Date.now()/1e3))}})),n.setOperation(t.min,(function(n){return function(t){var e=y(n.value,t),r=y(n.test,t);return e.valueOf()<r.valueOf()?e:r}})),n.setOperation(t.max,(function(n){return function(t){var e=y(n.value,t),r=y(n.test,t);return e.valueOf()>r.valueOf()?e:r}})),n.setOperation(t.get,(function(n){return function(t){var e=y(n.value,t),u=O(n.property,t,"timestamp");return u in r.getters?r.getters[u](e):-1}})),n.setOperation(t.set,(function(n){return function(t){var e=y(n.value,t),u=O(n.property,t,"timestamp"),i=l(n.set,t,0);return u in r.setters?r.setters[u](e,i):e}})),n.setOperation(t.add,(function(n){return function(t){var e=y(n.value,t),u=O(n.unit,t,"millis"),i=l(n.amount,t,0);return u in r.add?r.add[u](e,i):e}})),n.setOperation(t.sub,(function(n){return function(t){var e=y(n.value,t),u=O(n.unit,t,"millis"),i=l(n.amount,t,0);return u in r.add?r.add[u](e,-i):e}})),n.setOperation(t.startOf,(function(n){return function(t){var e=y(n.value,t),u=O(n.unit,t,"day");return u in r.startOf?Object(r.mutate)(e,r.startOf[u]):e}})),n.setOperation(t.endOf,(function(n){return function(t){var e=y(n.value,t),u=O(n.unit,t,"day");return u in r.endOf?Object(r.mutate)(e,r.endOf[u]):e}})),n.setOperation(t.daysInMonth,(function(n){return function(t){return Object(r.getDaysInMonth)(y(n.value,t))}})),n.setOperation(t.daysInYear,(function(n){return function(t){return Object(r.getDaysInYear)(y(n.value,t))}})),n.setOperation(t.weeksInYear,(function(n){return function(t){return Object(r.getWeeksInYear)(y(n.value,t))}})),n.setOperation(t.copy,(function(n){return function(t){return new Date(y(n.value,t).getTime())}})),n.setOperation(t.cmp,(function(n){return function(t){var e=y(n.value,t),u=y(n.test,t),i=O(n.unit,t,"millis");return i in r.startOf?Object(r.compareDates)(e,u,i):0}})),n.setOperation(t.diff,(function(n){return function(t){var e=y(n.value,t),u=y(n.test,t),i=O(n.unit,t,"millis"),o=f(n.absolute,t,!0),a=O(n.adjust,t,"down");if(!(i in r.diff&&a in r.adjusters))return Number.NaN;var c=r.adjusters[a](r.diff[i](e,u));return o?Math.abs(c):c}})),n.setOperation(t.timezoneOffset,(function(n){return function(t){return Object(r.getDateOffset)(y(n.value,t))}})),n.setOperation(t.toText,(function(n){return function(t){return r.DateFormat.format(O(n.format,t),[y(n.value,t),r.currentLocale])}})),n.setOperation(t.toISOText,(function(n){return function(t){return y(n.value,t).toISOString()}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(r.isDate)(n.value(t))}})),n.setOperation(t.isEqual,(function(e,r){return function(u){return 0===n.getOperation(t.cmp.id)(e,r)(u)}})),n.setOperation(t.isBefore,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)<0}})),n.setOperation(t.isBeforeOrEqual,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)<=0}})),n.setOperation(t.isAfter,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)>0}})),n.setOperation(t.isAfterOrEqual,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)>=0}})),n.setOperation(t.isBetween,(function(n){return function(t){var e=y(n.value,t),u=y(n.start,t),i=y(n.end,t),o=O(n.unit,t,"millis"),a=f(n.startInclusive,t,!0),c=f(n.endInclusive,t,!1),s=Object(r.compareDates)(e,u,o),p=Object(r.compareDates)(e,i,o);return s>=(a?0:1)&&p<=(c?0:-1)}})),n.setOperation(t.isStartOf,(function(n){return function(t){var e=y(n.value,t),u=O(n.unit,t,"millis");return u in r.startOf&&Object(r.mutate)(e,r.startOf[u]).getTime()===e.getTime()}})),n.setOperation(t.isEndOf,(function(n){return function(t){var e=y(n.value,t),u=O(n.unit,t,"millis");return u in r.endOf&&Object(r.mutate)(e,r.endOf[u]).getTime()===e.getTime()}})),n.setOperation(t.isDST,(function(n){return function(t){return Object(r.isDaylightSavingTime)(y(n.value,t))}})),n.setOperation(t.isLeapYear,(function(n){return function(t){return Object(r.isLeapYear)(y(n.value,t))}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(n){return!0}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(r.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return g(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return x(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return y(n.value,t).getTime()}})),n.setOperation(t.asObject,(function(n){return function(t){return j(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)+""}})),n.setOperation(t.asTuple,(function(n){return function(t){return M(n.value,t)}}))},q=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],e=0;return t?t.call(n):{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}},A=function(n){var t=r.ListOps;n.setOperation(t.create,(function(n){return function(n){return[]}})),n.setOperation(t.build,(function(n,t){return function(e){var r=l(n.count,e),u=[];if(r<=0)return u;var a=i(e,t);if(f(n.sameItem,e,!1)){e[t.index]=0,e[t.last]=void 0,e[t.list]=u,e[t.count]=r;for(var c=n.item(e),s=0;s<r;s++)u[s]=c}else{var p=void 0;for(s=0;s<r;s++){e[t.index]=s,e[t.last]=p,e[t.list]=u,e[t.count]=r,p=c=n.item(e),u.push(c)}}return o(e,a),u}})),n.setOperation(t.get,(function(n){return function(t){return m(n.list,t)[l(n.index,t)]}})),n.setOperation(t.set,(function(n){return function(t){var e=m(n.list,t),r=l(n.index,t),u=e[r];return e[r]=n.value(t),u}})),n.setOperation(t.add,(function(n){return function(t){var e=m(n.list,t),r=c(n.item,t);return void 0!==r&&e.push(r),e}})),n.setOperation(t.addFirst,(function(n){return function(t){var e=m(n.list,t),r=c(n.item,t);return void 0!==r&&e.unshift(r),e}})),n.setOperation(t.addLast,(function(n){return function(t){var e=m(n.list,t),r=c(n.item,t);return void 0!==r&&e.push(r),e}})),n.setOperation(t.insert,(function(n){return function(t){var e=m(n.list,t),r=c(n.item,t),u=l(n.index,t,0);return void 0!==r&&e.splice(u,0,r),e}})),n.setOperation(t.remove,(function(n,t){return function(e){return F(m(n.list,e),e,n,t,n.item(e),(function(n){return 0}),(function(n){return n}),(function(n,t,e){return e.splice(t,1),t}),(function(){return-1}))}})),n.setOperation(t.removeFirst,(function(n,t){return function(t){return m(n.list,t).shift()}})),n.setOperation(t.removeLast,(function(n,t){return function(t){return m(n.list,t).pop()}})),n.setOperation(t.removeAt,(function(n,t){return function(t){var e,r=m(n.list,t),u=l(n.index,t,-1);return u>=0&&u<r.length&&(e=r[u],r.splice(u,1)),e}})),n.setOperation(t.removeWhere,(function(n,t){return function(e){return I(m(n.list,e),e,t,(function(n){return n-1}),(function(n){return-1}),[],(function(t,r,u,i){return n.where(e)&&(i.push(t),u.splice(r,1)),i}))}})),n.setOperation(t.contains,(function(n,t){return function(e){return F(m(n.list,e),e,n,t,n.item(e),(function(n){return 0}),(function(n){return n}),(function(){return!0}),(function(){return!1}))}})),n.setOperation(t.find,(function(n,t){return function(e){var r=f(n.reverse,e),u=m(n.list,e),i=u.length,o=l(n.start,e,r?i-1:0),a=Math.max(0,Math.min(i-1,o)),c=r?-1:i;return r!==a>c?-1:I(u,e,t,(function(){return o}),(function(){return c}),void 0,(function(t,r){if(n.where(e))return t}),!0)}})),n.setOperation(t.copy,(function(n,t){return function(e){return n.deepCopy?k(m(n.list,e),e,t,(function(r){return r.map((function(r){return e[t.copy]=r,n.deepCopy(e)}))})):m(n.list,e).slice()}})),n.setOperation(t.reverse,(function(n){return function(t){for(var e=m(n.list,t),r=Math.floor(e.length/2),u=0,i=e.length-1;u<r;u++,i--)S(e,u,i);return e}})),n.setOperation(t.exclude,(function(n,t){return function(e){var r,u,i=m(n.list,e),o=m(n.exclude,e);try{for(var a=q(o),c=a.next();!c.done;c=a.next()){var f=c.value;F(i,e,n,t,f,(function(n){return 0}),(function(n){return n}),(function(n,t){return i.splice(t,1),!0}),(function(){return!1}))}}catch(n){r={error:n}}finally{try{c&&!c.done&&(u=a.return)&&u.call(a)}finally{if(r)throw r.error}}return i}})),n.setOperation(t.overlap,(function(n,t){return function(e){var r,u,i=m(n.list,e),o=m(n.overlap,e),a=[];try{for(var c=q(o),f=c.next();!f.done;f=c.next()){var s=f.value;F(i,e,n,t,s,(function(n){return 0}),(function(n){return n}),(function(){return!0}),(function(){return!1}))&&a.push(s)}}catch(n){r={error:n}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(r)throw r.error}}return a}})),n.setOperation(t.sort,(function(n,t){return function(e){return k(m(n.list,e),e,t,(function(r){return r.sort((function(u,i){return e[t.list]=r,e[t.value]=u,e[t.test]=i,l(n.compare,e,0)})),r}))}})),n.setOperation(t.shuffle,(function(n){return function(t){for(var e=m(n.list,t),r=l(n.times,t,1),u=e.length;--r>=0;)for(var i=0;i<u;i++)S(e,i,Math.floor(Math.random()*u));return e}})),n.setOperation(t.unique,(function(n,t){return function(e){for(var r=m(n.list,e),u={},i=[],o=function(o){if(u[o])return"continue";var a=r[o];F(r,e,n,t,a,(function(n){return o+1}),(function(n){return n}),(function(n,t){return u[t]=!0}),(function(){return!1}))||i.push(a)},a=0;a<r.length-1;a++)o(a);return i}})),n.setOperation(t.duplicates,(function(n,t){return function(e){for(var r=m(n.list,e),u=f(n.once,e,!1),i={},o=[],a=function(a){var c=r[a];if(i[a]){if(u)return"continue";o.push(c)}F(r,e,n,t,c,(function(n){return a+1}),(function(n){return n}),(function(n,t){return i[t]=!0}),(function(){return!1}))&&o.push(c)},c=0;c<r.length;c++)a(c);return o}})),n.setOperation(t.take,(function(n){return function(t){return m(n.list,t).slice(0,l(n.count,t))}})),n.setOperation(t.skip,(function(n){return function(t){return m(n.list,t).slice(l(n.count,t))}})),n.setOperation(t.drop,(function(n){return function(t){var e=m(n.list,t),r=l(n.count,t);return e.slice(0,e.length-r)}})),n.setOperation(t.append,(function(n){return function(t){var e=m(n.list,t),r=m(n.append,t);return e.concat(r)}})),n.setOperation(t.prepend,(function(n){return function(t){var e=m(n.list,t);return m(n.prepend,t).concat(e)}})),n.setOperation(t.indexOf,(function(n,t){return function(e){return F(m(n.list,e),e,n,t,n.item(e),(function(t){return Math.max(0,Math.min(t,l(n.start,e,0)))}),(function(n){return n}),(function(n,t){return t}),(function(){return-1}))}})),n.setOperation(t.lastIndexOf,(function(n,t){return function(e){return F(m(n.list,e),e,n,t,n.item(e),(function(t){return Math.max(0,Math.min(t-1,l(n.start,e,t-1)))}),(function(n){return-1}),(function(n,t){return t}),(function(){return-1}))}})),n.setOperation(t.findIndex,(function(n,t){return function(e){var r=f(n.reverse,e),u=m(n.list,e),i=u.length,o=l(n.start,e,r?i-1:0),a=Math.max(0,Math.min(i-1,o)),c=r?-1:i;return r!==a>c?-1:I(u,e,t,(function(){return o}),(function(){return c}),-1,(function(t,r){if(n.where(e))return r}),!0)}})),n.setOperation(t.last,(function(n){return function(t){var e=m(n.list,t);return e[e.length-1]}})),n.setOperation(t.first,(function(n){return function(t){return m(n.list,t)[0]}})),n.setOperation(t.count,(function(n){return function(t){return m(n.list,t).length}})),n.setOperation(t.randomList,(function(n){return function(t){var e=m(n.list,t),r=e.length,u=Math.min(l(n.count,t,0),r);if(u===r)return e.slice();for(var i={},o=[];o.length<u;){var a=Math.floor(Math.random()*r);i[a]||(o.push(e[a]),i[a]=!0)}return o}})),n.setOperation(t.random,(function(n){return function(t){var e=m(n.list,t);return e[Math.floor(Math.random()*e.length)]}})),n.setOperation(t.join,(function(n,t){return function(e){return O(n.prefix,e)+I(m(n.list,e),e,t,(function(n){return 0}),(function(n){return n}),"",(function(t,r,u,i){return i?i+O(n.delimiter,e,", ")+O(n.toText,e,t):i+O(n.toText,e,t)}))+O(n.suffix,e)}})),n.setOperation(t.each,(function(n,t){return function(e){var r=m(n.list,e),u=f(n.reverse,e,!1);return I(r,e,t,(function(n){return u?n-1:0}),(function(n){return u?-1:n}),void 0,(function(){return n.each(e)})),r}})),n.setOperation(t.filter,(function(n,t){return function(e){return I(m(n.list,e),e,t,(function(n){return 0}),(function(n){return n}),[],(function(t,r,u,i){return n.filter(e)&&i.push(t),i}))}})),n.setOperation(t.not,(function(n,t){return function(e){return I(m(n.list,e),e,t,(function(n){return 0}),(function(n){return n}),[],(function(t,r,u,i){return n.not(e)||i.push(t),i}))}})),n.setOperation(t.map,(function(n,t){return function(e){return I(m(n.list,e),e,t,(function(n){return 0}),(function(n){return n}),[],(function(t,r,u,i){return i.push(n.transform(e)),i}))}})),n.setOperation(t.split,(function(n,t){return function(e){return I(m(n.list,e),e,t,(function(n){return 0}),(function(n){return n}),{pass:[],fail:[]},(function(t,r,u,i){return n.pass(e)?i.pass.push(t):i.fail.push(t),i}))}})),n.setOperation(t.reduce,(function(n,t){return function(e){return I(m(n.list,e),e,t,(function(n){return 0}),(function(n){return n}),n.initial(e),(function(r,u,i,o){return e[t.reduced]=o,n.reduce(e)}))}})),n.setOperation(t.cmp,(function(n,t){return function(e){var u=m(n.value,e),i=m(n.test,e);if(u.length!==i.length)return u.length-i.length;var o=0,a=0;return k(u,e,t,(function(){for(var r=0;r<u.length;r++){e[t.list]=u,e[t.value]=u[r],e[t.test]=i[r];var c=l(n.compare,e,0);c<0?o++:c>0&&a++}})),Object(r.getCompare)(o,a)}})),n.setOperation(t.group,(function(n,t){return function(e){var r=m(n.list,e);return k(r,e,t,(function(){for(var u=new Map,i=0;i<r.length;i++){var o=r[i];e[t.index]=i,e[t.item]=o,e[t.list]=r;var a=n.getKey(e),f=u.get(a),s=c(n.getValue,e,o);f?f.push(s):u.set(a,[s])}return u}))}})),n.setOperation(t.toMap,(function(n,t){return function(e){var r=m(n.list,e);return k(r,e,t,(function(){for(var u=new Map,i=0;i<r.length;i++){var o=r[i];e[t.index]=i,e[t.item]=o,e[t.list]=r;var a=n.getKey(e),f=c(n.getValue,e,o);u.set(a,f)}return u}))}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(r.isArray)(n.value(t))}})),n.setOperation(t.isEmpty,(function(n,t){return function(t){return 0===m(n.list,t).length}})),n.setOperation(t.isNotEmpty,(function(n,t){return function(t){return m(n.list,t).length>0}})),n.setOperation(t.isEqual,(function(n,t){return function(e){var r=m(n.list,e),u=m(n.test,e);if(r.length!==u.length)return!1;var i=!0;return k(r,e,t,(function(){for(var o=0;o<r.length;o++)if(e[t.list]=r,e[t.value]=r[o],e[t.test]=u[o],!n.isEqual(e)){i=!1;break}})),i}})),n.setOperation(t.isNotEqual,(function(e,r){return function(u){return!n.getOperation(t.isEqual.id)(e,r)(u)}})),n.setOperation(t.isLess,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)<0}})),n.setOperation(t.isLessOrEqual,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)<=0}})),n.setOperation(t.isGreater,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)>0}})),n.setOperation(t.isGreaterOrEqual,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return P(n.value,t,r.isBoolean,(function(n){return!Object(r.isEmpty)(n)}))}})),n.setOperation(t.asDate,(function(n){return function(t){return P(n.value,t,r.isDate,(function(){return new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return m(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){var e=m(n.value,t);return new Map(e.map((function(n,t){return[t.toString(),n]})))}})),n.setOperation(t.asNumber,(function(n){return function(t){return P(n.value,t,r.isNumber,(function(n){return n.length}))}})),n.setOperation(t.asObject,(function(n){return function(t){return j(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return P(n.value,t,r.isString,(function(){return""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return M(n.value,t)}}))};function P(n,t,e,u){var i=n(t);return Object(r.isArray)(i)&&e(i[0])?i[0]:u(i)}function S(n,t,e){var r=n[t];n[t]=n[e],n[e]=r}function k(n,t,e,r){var u=i(t,e),a=r(n);return o(t,u),a}function I(n,t,e,r,u,i,o,a){return void 0===a&&(a=!1),k(n,t,e,(function(){for(var c=n.length,f=r(c),s=u(c),p=f<s?1:-1,l=i;f!==s;){var v=n[f];t[e.list]=n,t[e.item]=v,t[e.index]=f;var O=o(v,f,n,l);if(a){if(void 0!==O)return O}else l=O;n[f]!==v&&1===f||(f+=p)}return l}))}function F(n,t,e,r,u,i,o,a,c){return k(n,t,r,(function(){for(var f=n.length,s=i(f),p=o(f),l=s<p?1:-1;s!==p;){var v=n[s],O=n[s+l];if(t[r.list]=n,t[r.value]=u,t[r.test]=v,e.isEqual(t)){var d=a(v,s,n);if(void 0!==d)return d;n[s]===O&&(s-=l)}s+=l}return c(n)}))}var B=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],e=0;return t?t.call(n):{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}},V=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,u,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(n){u={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return o},G=function(n){var t=r.MapOps;n.setOperation(t.create,(function(n){return function(n){return new Map}})),n.setOperation(t.get,(function(n){return function(t){return h(n.map,t).get(n.key(t))}})),n.setOperation(t.set,(function(n,t){return function(e){var r=h(n.map,e),u=n.key(e),a=r.get(u),c=i(e,t);e[t.existingValue]=a;var f=n.value(e);return r.set(u,f),o(e,c),a}})),n.setOperation(t.has,(function(n){return function(t){return h(n.map,t).has(n.key(t))}})),n.setOperation(t.delete,(function(n){return function(t){return h(n.map,t).delete(n.key(t))}})),n.setOperation(t.keys,(function(n){return function(t){return Object(r.toArray)(h(n.map,t).keys())}})),n.setOperation(t.values,(function(n){return function(t){return Object(r.toArray)(h(n.map,t).values())}})),n.setOperation(t.entries,(function(n){return function(t){var e,r,u=h(n.map,t),i={keys:[],values:[]};try{for(var o=B(u.entries()),a=o.next();!a.done;a=o.next()){var c=V(a.value,2),f=c[0],s=c[1];i.keys.push(f),i.values.push(s)}}catch(n){e={error:n}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i}})),n.setOperation(t.pairs,(function(n){return function(t){var e,r,u=h(n.map,t),i=[];try{for(var o=B(u.entries()),a=o.next();!a.done;a=o.next()){var c=V(a.value,2),f=c[0],s=c[1];i.push({key:f,value:s})}}catch(n){e={error:n}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i}})),n.setOperation(t.clear,(function(n){return function(t){var e=h(n.map,t);return e.clear(),e}})),n.setOperation(t.count,(function(n){return function(t){return h(n.map,t).size}})),n.setOperation(t.cmp,(function(n,t){return function(e){var u=h(n.value,e),i=h(n.test,e);return z(u,e,t,(function(){var o,a,c,f,s=0,p=0;try{for(var v=B(u.entries()),O=v.next();!O.done;O=v.next()){var d=V(O.value,2),m=d[0],h=d[1];if(i.has(m)){e[t.key]=m,e[t.value]=h,e[t.test]=i.get(m);var b=l(n.compare,e,0);b<0?s++:b>0&&p++}else p++}}catch(n){o={error:n}}finally{try{O&&!O.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}try{for(var y=B(i.keys()),g=y.next();!g.done;g=y.next()){m=g.value;u.has(m)||s++}}catch(n){c={error:n}}finally{try{g&&!g.done&&(f=y.return)&&f.call(y)}finally{if(c)throw c.error}}return Object(r.getCompare)(s,p)}))}})),n.setOperation(t.copy,(function(n,t){return function(e){var u=h(n.map,e),i=u.entries();if(!n.deepCopy&&!n.deepCopyKey)return new Map(Object(r.toArray)(i));var o=[];return z(u,e,t,(function(){var r,a;try{for(var f=B(i),s=f.next();!s.done;s=f.next()){var p=V(s.value,2),l=p[0],v=p[1];e[t.key]=l,e[t.value]=v,e[t.map]=u,o.push([c(n.deepCopyKey,e,l),c(n.deepCopy,e,v)])}}catch(n){r={error:n}}finally{try{s&&!s.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}})),new Map(o)}})),n.setOperation(t.map,(function(n,t){return function(e){var u=h(n.map,e),i=u.entries();if(!n.transform&&!n.transformKey)return new Map(Object(r.toArray)(i));var o=[];return z(u,e,t,(function(){var r,a;try{for(var f=B(i),s=f.next();!s.done;s=f.next()){var p=V(s.value,2),l=p[0],v=p[1];e[t.key]=l,e[t.value]=v,e[t.map]=u,o.push([c(n.transformKey,e,l),c(n.transform,e,v)])}}catch(n){r={error:n}}finally{try{s&&!s.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}})),new Map(o)}})),n.setOperation(t.toPlainObject,(function(n){return function(t){var e,r,u=h(n.map,t),i=Object.create(null);try{for(var o=B(u.entries()),a=o.next();!a.done;a=o.next()){var c=V(a.value,2),f=c[0],s=c[1];i[f]=s}}catch(n){e={error:n}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(r.isMap)(n.value(t))}})),n.setOperation(t.isEqual,(function(n,t){return function(e){var r=h(n.value,e),u=h(n.test,e);return r.size===u.size&&z(r,e,t,(function(){var i,o;try{for(var a=B(r.entries()),c=a.next();!c.done;c=a.next()){var f=V(c.value,2),s=f[0],p=f[1];if(!u.has(s))return!1;if(e[t.key]=s,e[t.value]=p,e[t.test]=u.get(s),!n.isEqual(e))return!1}}catch(n){i={error:n}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return!0}))}})),n.setOperation(t.isNotEqual,(function(e,r){return function(u){return!n.getOperation(t.isEqual.id)(e,r)(u)}})),n.setOperation(t.isLess,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)<0}})),n.setOperation(t.isLessOrEqual,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)<=0}})),n.setOperation(t.isGreater,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)>0}})),n.setOperation(t.isGreaterOrEqual,(function(e,r){return function(u){return n.getOperation(t.cmp.id)(e,r)(u)>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return U(n.value,t,r.isBoolean,(function(n){return n.size>0}))}})),n.setOperation(t.asDate,(function(n){return function(t){return U(n.value,t,r.isDate,(function(n){return new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return Object(r.toArray)(h(n.value,t).values())}})),n.setOperation(t.asMap,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return U(n.value,t,r.isNumber,(function(n){return n.size}))}})),n.setOperation(t.asObject,(function(n){return function(t){return U(n.value,t,r.isObject,(function(n){return{value:n}}))}})),n.setOperation(t.asText,(function(n){return function(t){return U(n.value,t,r.isString,(function(n){return""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return U(n.value,t,r.isArray,(function(n){return[n]}))}}))};function U(n,t,e,u){var i=n(t);return Object(r.isMap)(i)&&e(i.get("value"))?i.get("value"):u(i)}function z(n,t,e,r){var u=i(t,e),a=r(n);return o(t,u),a}var W=function(n,t){void 0===t&&(t=1e-6);var e=r.NumberOps;n.setOperation(e.create,(function(n){return function(n){return 0}})),n.setOperation(e.pi,(function(n){return function(n){return Math.PI}})),n.setOperation(e.pi2,(function(n){return function(n){return Math.PI+Math.PI}})),n.setOperation(e.piHalf,(function(n){return function(n){return.5*Math.PI}})),n.setOperation(e.e,(function(n){return function(n){return Math.E}})),n.setOperation(e.sqrt2,(function(n){return function(n){return Math.SQRT2}})),n.setOperation(e.sqrt12,(function(n){return function(n){return Math.SQRT1_2}})),n.setOperation(e.ln2,(function(n){return function(n){return Math.LN2}})),n.setOperation(e.ln10,(function(n){return function(n){return Math.LN10}})),n.setOperation(e.log2e,(function(n){return function(n){return Math.LOG2E}})),n.setOperation(e.log10e,(function(n){return function(n){return Math.LOG10E}})),n.setOperation(e.add,(function(n){return function(t){return l(n.value,t)+l(n.addend,t)}})),n.setOperation(e.sub,(function(n){return function(t){return l(n.value,t)-l(n.subtrahend,t)}})),n.setOperation(e.mul,(function(n){return function(t){return l(n.value,t)*l(n.multiplier,t)}})),n.setOperation(e.div,(function(n){return function(t){return l(n.value,t)%l(n.divisor,t)}})),n.setOperation(e.mod,(function(n){return function(t){return l(n.value,t)%l(n.divisor,t)}})),n.setOperation(e.min,(function(n){return function(t){return Math.min(l(n.a,t),l(n.b,t))}})),n.setOperation(e.max,(function(n){return function(t){return Math.max(l(n.a,t),l(n.b,t))}})),n.setOperation(e.pow,(function(n){return function(t){return Math.pow(l(n.value,t),l(n.exponent,t))}})),n.setOperation(e.atan2,(function(n){return function(t){return Math.atan2(l(n.y,t),l(n.x,t))}})),n.setOperation(e.hypot,(function(n){return function(t){var e=l(n.a,t),r=l(n.b,t);return Math.sqrt(e*e+r*r)}})),n.setOperation(e.choose,(function(n){return function(t){var e=l(n.n,t),r=l(n.k,t);return isFinite(e)&&isFinite(r)?function(n,t){var e=1,r=1,u=0;t>n>>1&&(t=n-t);for(;t>=1;)e*=n--,r*=t--,u=_(e,r),e/=u,r/=u;return e}(e,r):Number.NaN}})),n.setOperation(e.gcd,(function(n){return function(t){var e=l(n.a,t),r=l(n.b,t);return isFinite(e)&&isFinite(r)?_(e,r):Number.NaN}})),n.setOperation(e.bitAnd,(function(n){return function(t){return l(n.a,t)&l(n.b,t)}})),n.setOperation(e.bitOr,(function(n){return function(t){return l(n.a,t)|l(n.b,t)}})),n.setOperation(e.bitXor,(function(n){return function(t){return l(n.a,t)^l(n.b,t)}})),n.setOperation(e.cmp,(function(n){return function(t){return l(n.value,t)-l(n.test,t)}})),n.setOperation(e.sqrt,(function(n){return function(t){return Math.sqrt(l(n.value,t))}})),n.setOperation(e.sq,(function(n){return function(t){var e=l(n.value,t);return e*e}})),n.setOperation(e.cbrt,(function(n){return function(t){return Math.cbrt(l(n.value,t))}})),n.setOperation(e.floor,(function(n){return function(t){return Math.floor(l(n.value,t))}})),n.setOperation(e.ceil,(function(n){return function(t){return Math.ceil(l(n.value,t))}})),n.setOperation(e.up,(function(n){return function(t){var e=l(n.value,t);return e<0?Math.ceil(e):Math.floor(e)}})),n.setOperation(e.down,(function(n){return function(t){var e=l(n.value,t);return e>0?Math.ceil(e):Math.floor(e)}})),n.setOperation(e.round,(function(n){return function(t){return Math.round(l(n.value,t))}})),n.setOperation(e.abs,(function(n){return function(t){return Math.abs(l(n.value,t))}})),n.setOperation(e.neg,(function(n){return function(t){return-l(n.value,t)}})),n.setOperation(e.sign,(function(n){return function(t){var e=l(n.value,t);return 0===e?0:e<0?-1:1}})),n.setOperation(e.log,(function(n){return function(t){return Math.log(l(n.value,t))}})),n.setOperation(e.sin,(function(n){return function(t){return Math.sin(l(n.value,t))}})),n.setOperation(e.cos,(function(n){return function(t){return Math.cos(l(n.value,t))}})),n.setOperation(e.tan,(function(n){return function(t){return Math.tan(l(n.value,t))}})),n.setOperation(e.sinh,(function(n){return function(t){return Math.sinh(l(n.value,t))}})),n.setOperation(e.cosh,(function(n){return function(t){return Math.cosh(l(n.value,t))}})),n.setOperation(e.asin,(function(n){return function(t){return Math.asin(l(n.value,t))}})),n.setOperation(e.acos,(function(n){return function(t){return Math.acos(l(n.value,t))}})),n.setOperation(e.atan,(function(n){return function(t){return Math.atan(l(n.value,t))}})),n.setOperation(e.factorial,(function(n){return function(t){var e=l(n.value,t);return isFinite(e)?function(n){var t=n;for(;--n>1;)t*=n;return t}(e):e}})),n.setOperation(e.bitFlip,(function(n){return function(t){return~l(n.value,t)}})),n.setOperation(e.clamp,(function(n){return function(t){return Math.max(l(n.min,t),Math.min(l(n.value,t),l(n.max,t)))}})),n.setOperation(e.triangleHeight,(function(n){return function(t){var e=l(n.base,t),r=l(n.side1,t),u=l(n.side2,t);return isFinite(e)&&isFinite(r)&&isFinite(u)?function(n,t,e){var r=(n+t+e)*K;return Math.sqrt(r*(r-n)*(r-t)*(r-e))*R/n}(e,r,u):Number.NaN}})),n.setOperation(e.lerp,(function(n){return function(t){var e=l(n.start,t);return(l(n.end,t)-e)*l(n.delta,t)+e}})),n.setOperation(e.rnd,(function(n){return function(t){var e=l(n.min,t,0),r=l(n.max,t,1)-e,u=f(n.whole,t,!1),i=f(n.includeMax,t,!0);return u?i?Math.floor((r+1)*Math.random())+e:Math.floor(r*Math.random())+e:Math.random()*r+e}})),n.setOperation(e.toBaseText,(function(n){return function(t){var e=l(n.value,t);if(!isFinite(e))return e;for(var r=l(n.base,t,10),u=l(n.minDigits,t,0),i=e.toString(r);i.length<u;)i="0"+i;return i}})),n.setOperation(e.toText,(function(n){return function(t){var e=l(n.value,t);if(!isFinite(e))return e;var u=O(n.prefix,t),i=O(n.suffix,t),o=v(n.minPlaces,t),a=v(n.maxPlaces,t),c=f(n.useExponent,t,!1),s=d(n.thousandSeparator,t),p="";p=c?e.toExponential(Object(r.isUndefined)(a)?o:a):Object(r.isNumber)(o)?e.toFixed(o):e.toPrecision(a);if(Object(r.isString)(s)){var m=1.1.toLocaleString().substring(1,2),h=p.indexOf(m);for(-1===h&&(h=p.length),h-=3;h>0;)p=p.substring(0,h)+s+p.substring(h),h-=3}return u+p+i}})),n.setOperation(e.isValid,(function(n){return function(t){return Object(r.isNumber)(n.value(t))}})),n.setOperation(e.isZero,(function(n){return function(e){return Math.abs(l(n.value,e))<=l(n.epsilon,e,t)}})),n.setOperation(e.isEqual,(function(n){return function(e){return Math.abs(l(n.value,e)-l(n.test,e))<=l(n.epsilon,e,t)}})),n.setOperation(e.isNotEqual,(function(n){return function(e){return Math.abs(l(n.value,e)-l(n.test,e))>l(n.epsilon,e,t)}})),n.setOperation(e.isLess,(function(n){return function(t){return l(n.value,t)<l(n.test,t)}})),n.setOperation(e.isLessOrEqual,(function(n){return function(t){return l(n.value,t)<=l(n.test,t)}})),n.setOperation(e.isGreater,(function(n){return function(t){return l(n.value,t)>l(n.test,t)}})),n.setOperation(e.isGreaterOrEqual,(function(n){return function(t){return l(n.value,t)>=l(n.test,t)}})),n.setOperation(e.isBetween,(function(n){return function(t){var e=l(n.value,t),r=l(n.min,t),u=l(n.max,t),i=f(n.minInclusive,t,!0),o=f(n.maxInclusive,t,!0);return e-r>=(i?0:1)&&e-u<=(o?0:-1)}})),n.setOperation(e.isWhole,(function(n){return function(e){var u=l(n.value,e),i=l(n.epsilon,e,t);return Object(r.isWhole)(u,i)}})),n.setOperation(e.isDecimal,(function(n){return function(e){var u=l(n.value,e),i=l(n.epsilon,e,t);return!Object(r.isWhole)(u,i)}})),n.setOperation(e.isPositive,(function(n){return function(t){return l(n.value,t)>=0}})),n.setOperation(e.isNegative,(function(n){return function(t){return l(n.value,t)<0}})),n.setOperation(e.isDivisible,(function(n){return function(e){return Math.abs(l(n.value,e)%l(n.by,e))<=l(n.epsilon,e,t)}})),n.setOperation(e.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(e.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(e.asDate,(function(n){return function(t){return Object(r.parse)(n.value(t))||new Date}})),n.setOperation(e.asList,(function(n){return function(t){return g(n.value,t)}})),n.setOperation(e.asMap,(function(n){return function(t){return x(n.value,t)}})),n.setOperation(e.asNumber,(function(n){return function(t){return n.value(t)}})),n.setOperation(e.asObject,(function(n){return function(t){return j(n.value,t)}})),n.setOperation(e.asText,(function(n){return function(t){return n.value(t)+""}})),n.setOperation(e.asTuple,(function(n){return function(t){return M(n.value,t)}}))};function _(n,t){for(var e=Math.abs(n),r=Math.abs(t),u=Math.max(e,r),i=Math.min(e,r);;){if(0===i)return u;if(0===(u%=i))return i;i%=u}}var K=.5,R=2;var Y=function(n){var t=r.ObjectOps;n.setOperation(t.create,(function(n){return function(n){return Object.create(null)}})),n.setOperation(t.has,(function(n){return function(t){return n.key(t)in b(n.object,t)}})),n.setOperation(t.get,(function(n){return function(t){return b(n.object,t)[n.key(t)]}})),n.setOperation(t.set,(function(n,t){return function(e){var r=b(n.object,e),u=n.key(e),a=i(e,t);e[t.existingValue]=r[u];var c=n.value(e);return r[u]=c,o(e,a),r}})),n.setOperation(t.delete,(function(n){return function(t){var e=b(n.object,t),r=n.key(t),u=e[r];return delete e[r],u}})),n.setOperation(t.cmp,(function(n){return function(t){return Object(r.compare)(b(n.value,t),b(n.test,t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(r.copy)(b(n.object,t))}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(r.isObject)(n.value(t))}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(r.compare)(b(n.value,t),b(n.test,t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(r.compare)(b(n.value,t),b(n.test,t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(r.compare)(b(n.value,t),b(n.test,t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(r.compare)(b(n.value,t),b(n.test,t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(r.compare)(b(n.value,t),b(n.test,t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(r.compare)(b(n.value,t),b(n.test,t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return $(n.value,t,r.isBoolean,(function(){return!0}))}})),n.setOperation(t.asDate,(function(n){return function(t){return $(n.value,t,r.isDate,(function(){return new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return $(n.value,t,r.isArray,(function(n){return Object(r.isEmpty)(n)?[]:[n]}))}})),n.setOperation(t.asMap,(function(n){return function(t){return $(n.value,t,r.isMap,(function(n){return Object(r.isEmpty)(n)?new Map:new Map([["value",n]])}))}})),n.setOperation(t.asNumber,(function(n){return function(t){return $(n.value,t,r.isNumber,(function(){return 0}))}})),n.setOperation(t.asObject,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asText,(function(n){return function(t){return $(n.value,t,r.isString,(function(n){return Object(r.toString)(n)}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return $(n.value,t,r.isArray,(function(n){return[n]}))}}))};function $(n,t,e,u){var i=n(t);return Object(r.isObject)(i)&&e(i.value)?i.value:u(i)}var H=function(n){var t=r.TextOps;n.setOperation(t.create,(function(n){return function(n){return""}})),n.setOperation(t.append,(function(n){return function(t){return O(n.value,t)+O(n.append,t)}})),n.setOperation(t.prepend,(function(n){return function(t){return O(n.prepend,t)+O(n.value,t)}})),n.setOperation(t.lower,(function(n){return function(t){return O(n.value,t).toLowerCase()}})),n.setOperation(t.upper,(function(n){return function(t){return O(n.value,t).toUpperCase()}})),n.setOperation(t.char,(function(n){return function(t){var e=O(n.value,t),r=l(n.index,t);return r<=e.length?e.charAt(r):O(n.outside,t)}})),n.setOperation(t.replace,(function(n){return function(t){return O(n.value,t).replace(O(n.find,t),O(n.replace,t))}})),n.setOperation(t.repeat,(function(n){return function(t){for(var e=l(n.value,t),r=l(n.times,t),u="";--r>=0;)u+=e;return u}})),n.setOperation(t.split,(function(n){return function(t){return O(n.value,t).split(O(n.by,t),v(n.limit,t))}})),n.setOperation(t.chars,(function(n){return function(t){return O(n.value,t)}})),n.setOperation(t.sub,(function(n){return function(t){return O(n.value,t).substring(l(n.start,t,0),v(n.end,t))}})),n.setOperation(t.indexOf,(function(n){return function(t){return O(n.value,t).indexOf(O(n.search,t),v(n.start,t))}})),n.setOperation(t.lastIndexOf,(function(n){return function(t){return O(n.value,t).lastIndexOf(O(n.search,t),v(n.start,t))}})),n.setOperation(t.trim,(function(n){return function(t){var e=O(n.value,t);return f(n.start,t,!0)&&(e=e.replace(/^\w+/,"")),f(n.end,t,!0)&&(e=e.replace(/\w+$/,"")),e}})),n.setOperation(t.startsWith,(function(n){return function(t){var e=O(n.value,t),r=O(n.test,t);return e.substring(0,r.length)===r}})),n.setOperation(t.endsWith,(function(n){return function(t){var e=O(n.value,t),r=O(n.test,t);return e.substring(e.length-r.length)===r}})),n.setOperation(t.soundex,(function(n){var t=/[^a-z]/g,e=/[^bfpvcgjkqsxzdtlmnr]/g,r={b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,d:3,t:3,l:4,m:5,n:5,r:6};return function(u){for(var i=O(n.value,u),o=v(n.max,u),a=l(n.min,u,4),c=(i=(i=(i=i.toLowerCase()).replace(t,"")).charAt(0)+i.substring(1).replace(e,"")).charAt(0),f=1;f<i.length;f++)c+=r[i.charAt(f)];var s=c.charAt(1);for(f=2;f<c.length;f++)c.charAt(f)===s?(c=c.substring(0,f)+c.substring(f+1),f--):s=c.charAt(f);for(isFinite(o)&&(c=c.substring(0,o+1));c.length<a;)c+="0";return c}})),n.setOperation(t.distance,(function(n){return function(t){return function(n,t){for(var e=Array(t.length+1).fill(null).map((function(){return Array(n.length+1).fill(null)})),r=0;r<=n.length;r+=1)e[0][r]=r;for(var u=0;u<=t.length;u+=1)e[u][0]=u;for(u=1;u<=t.length;u+=1)for(r=1;r<=n.length;r+=1){var i=n[r-1]===t[u-1]?0:1;e[u][r]=Math.min(e[u][r-1]+1,e[u-1][r]+1,e[u-1][r-1]+i)}return e[t.length][n.length]}(O(n.value,t),O(n.test,t))}})),n.setOperation(t.length,(function(n){return function(t){return O(n.value,t).length}})),n.setOperation(t.compare,(function(n){return function(t){return Q(O(n.value,t),O(n.test,t),f(n.ignoreCase,t,!1))}})),n.setOperation(t.like,(function(n){return function(t){var e=O(n.value,t),r=O(n.pattern,t),u=f(n.ignoreCase,t,!1),i=r.split("%").map((function(n){return n?n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):n})).join(".*"),o=new RegExp("^"+i+"$",u?"i":void 0);return!!e.match(o)}})),n.setOperation(t.pad,(function(n){return function(t){var e=O(n.value,t),r=O(n.padding,t)||" ",u=f(n.append,t),i=l(n.min,t),o=v(n.max,t);if(u)for(;e.length<i;)e+=r;else for(;e.length<i;)e=r+e;return void 0!==o&&e.length>o&&(e=u?e.substring(0,o):e.substring(o-e.length,o)),e}})),n.setOperation(t.toNumber,(function(n){return function(t){var e=parseInt(O(n.value,t));return isFinite(e)?e:l(n.invalidValue,t,0)}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(r.isString)(n.value(t))}})),n.setOperation(t.isEmpty,(function(n){return function(t){return 0===O(n.value,t).length}})),n.setOperation(t.isNotEmpty,(function(n){return function(t){return 0!==O(n.value,t).length}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Q(O(n.a,t),O(n.b,t),f(n.ignoreCase,t,!1))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Q(O(n.a,t),O(n.b,t),f(n.ignoreCase,t,!1))}})),n.setOperation(t.isLess,(function(n){return function(t){return Q(O(n.value,t),O(n.test,t),f(n.ignoreCase,t,!1))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Q(O(n.value,t),O(n.test,t),f(n.ignoreCase,t,!1))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Q(O(n.value,t),O(n.test,t),f(n.ignoreCase,t,!1))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Q(O(n.value,t),O(n.test,t),f(n.ignoreCase,t,!1))>=0}})),n.setOperation(t.isLower,(function(n){return function(t){var e=O(n.value,t);return 0===e.localeCompare(e.toLowerCase())}})),n.setOperation(t.isUpper,(function(n){return function(t){var e=O(n.value,t);return 0===e.localeCompare(e.toUpperCase())}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return/^(true|t|1|y|x)$/.test(O(n.value,t))}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(r.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return g(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return x(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){var e=parseFloat(n.value(t));return isFinite(e)?e:0}})),n.setOperation(t.asObject,(function(n){return function(t){return j(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asTuple,(function(n){return function(t){return M(n.value,t)}}))};function Q(n,t,e){return e?n.toLowerCase().localeCompare(t.toLowerCase()):n.localeCompare(t)}var X=function(n){var t=r.TupleOps;n.setOperation(t.create,(function(n){return function(n){return[]}})),n.setOperation(t.cmp,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(r.copy)(n.value(t))}})),n.setOperation(t.get,(function(n){return function(t){return m(n.value,t)[l(n.index,t,0)]}})),n.setOperation(t.set,(function(n){return function(t){var e=m(n.value,t),r=l(n.index,t,0),u=e[r];return e[r]=n.element(t),u}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(r.isArray)(n.value(t))}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(r.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(r.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(r.compare)(n.value(t),n.test(t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return Z(n.value,t,r.isBoolean,(function(n){return n.find&&n.find(r.isBoolean)||!1}))}})),n.setOperation(t.asDate,(function(n){return function(t){return Z(n.value,t,r.isDate,(function(n){return n.find&&n.find(r.isDate)||new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return Z(n.value,t,r.isArray,(function(n){return Object(r.isEmpty)(n)?[]:[n]}))}})),n.setOperation(t.asMap,(function(n){return function(t){return Z(n.value,t,r.isMap,(function(n){return Object(r.isEmpty)(n)?new Map:new Map([["value",n]])}))}})),n.setOperation(t.asNumber,(function(n){return function(t){return Z(n.value,t,r.isNumber,(function(n){return n.find&&n.find(r.isNumber)||0}))}})),n.setOperation(t.asObject,(function(n){return function(t){return Z(n.value,t,r.isObject,(function(n){return{value:n}}))}})),n.setOperation(t.asText,(function(n){return function(t){return Z(n.value,t,r.isString,(function(n){return n.find&&n.find(r.isString)||""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return n.value(t)}}))};function Z(n,t,e,u){var i=n(t);return Object(r.isArray)(i)&&e(i[0])?i[0]:u(i)}e.d(t,"LiveRuntime",(function(){return u})),e.d(t,"addLiveExpressions",(function(){return D})),e.d(t,"addLiveAny",(function(){return L})),e.d(t,"addLiveBoolean",(function(){return T})),e.d(t,"addLiveDate",(function(){return N})),e.d(t,"addLiveList",(function(){return A})),e.d(t,"addLiveMap",(function(){return G})),e.d(t,"addLiveNumber",(function(){return W})),e.d(t,"addLiveObject",(function(){return Y})),e.d(t,"addLiveText",(function(){return H})),e.d(t,"addLiveTuple",(function(){return X})),D(u),L(u),T(u),N(u),A(u),G(u),W(u),Y(u),H(u),X(u)}])}));
//# sourceMappingURL=expangine-runtime-live.js.map
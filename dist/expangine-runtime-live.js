!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("expangine-runtime")):"function"==typeof define&&define.amd?define(["expangine-runtime"],t):"object"==typeof exports?exports["expangine-runtime-live"]=t(require("expangine-runtime")):n["expangine-runtime-live"]=t(n["expangine-runtime"])}(window,(function(n){return function(n){var t={};function r(e){if(t[e])return t[e].exports;var u=t[e]={i:e,l:!1,exports:{}};return n[e].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var u in n)r.d(e,u,function(t){return n[t]}.bind(null,u));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=1)}([function(t,r){t.exports=n},function(n,t,r){"use strict";r.r(t);var e=r(0),u=new e.Runtime(e.defs);function i(n,t){var r={};for(var e in t){var u=t[e];r[u]=n[u]}return r}function o(n,t){for(var r in t)void 0===t[r]?delete n[r]:n[r]=t[r]}function a(n,t,r){var e=t.map((function(t){return n[t]})),u=r();return e.forEach((function(r,e){return void 0===r?delete n[t[e]]:n[t[e]]=r})),u}function c(n,t,r){return n?n(t):r}function f(n,t,r){return void 0===r&&(r=!1),n?!!n(t):r}function s(n,t){return function(r,e,u){if(void 0===u&&(u=t),!r)return u;var i=r(e);return n(i)?i:u}}function l(n,t){return function(r,e,u){if(void 0===u&&(u=t),!r)return u();var i=r(e);return n(i)?i:u()}}var p=s(e.isBoolean,void 0),v=s(e.isNumber,Number.NaN),O=s(e.isNumber,void 0),d=s(e.isString,""),m=s(e.isString,void 0),h=l(e.isArray,(function(){return[]})),b=s(e.isArray,void 0),y=l(e.isMap,(function(){return new Map})),g=s(e.isMap,void 0),x=l(e.isObject,(function(){return{}})),j=s(e.isObject,void 0),M=l(e.isDate,(function(){return new Date})),E=s(e.isDate,void 0);function w(n,t){return[n(t)]}function C(n,t){return new Map([["value",n(t)]])}function D(n,t){return{value:n(t)}}function L(n,t){return[n(t)]}var T=function(){return(T=Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}).apply(this,arguments)},q=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],r=0;return t?t.call(n):{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}},N=function(n,t){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var e,u,i=r.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(e=i.next()).done;)o.push(e.value)}catch(n){u={error:n}}finally{try{e&&!e.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o},A=function(n){n.setExpression(e.ConstantExpression,(function(n,t){return function(){return n.value}})),n.setExpression(e.GetExpression,(function(n,t){var r=n.path.map((function(n){return t.getCommand(n)}));return function(n){for(var t=n,u=0;u<r.length&&!Object(e.isUndefined)(t);u++){var i=r[u](n);if(Object(e.isUndefined)(t[i]))return;t=t[i]}return t}})),n.setExpression(e.SetExpression,(function(n,t){var r=n.path.map((function(n){return t.getCommand(n)})),u=r.length-1,i=t.getCommand(n.value);return function(n){for(var t=n,o=0;o<u&&!Object(e.isUndefined)(t);o++){var a=r[o](n);if(Object(e.isUndefined)(t[a]))return!1;t=t[a]}return!Object(e.isUndefined)(t)&&(t[r[u](n)]=i(n),!0)}})),n.setExpression(e.UpdateExpression,(function(n,t){var r=n.path.map((function(n){return t.getCommand(n)})),u=r.length-1,i=t.getCommand(n.value),o=n.currentVariable;return function(n){for(var t=n,c=0;c<u&&!Object(e.isUndefined)(t);c++){var f=r[c](n);if(Object(e.isUndefined)(t[f]))return!1;t=t[f]}if(!Object(e.isUndefined)(t)){var s=r[u](n);return a(n,[o],(function(){n[o]=t[s],t[s]=i(n)})),!0}return!1}})),n.setExpression(e.OperationExpression,(function(n,t){var r=Object(e.objectMap)(n.params,(function(n){return t.getCommand(n)})),u=t.getOperation(n.name);if(!u)throw new Error("Operation with "+n.name+" is not defined in the given runtime.");var i=t.getOperationScopeDefaults(n.name),o=n.scopeAlias;if(i)for(var a in i)a in o||(o===n.scopeAlias&&(o=T({},o)),o[a]=i[a]);var c=u(r,o);return function(n){if(!(t.returnProperty in n))return c(n)}})),n.setExpression(e.ChainExpression,(function(n,t){var r=n.chain.map((function(n){return t.getCommand(n)}));return function(n){var e,u;if(!(t.returnProperty in n)){var i;try{for(var o=q(r),a=o.next();!a.done;a=o.next()){if(i=(0,a.value)(n),t.returnProperty in n)return}}catch(n){e={error:n}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(e)throw e.error}}return i}}})),n.setExpression(e.IfExpression,(function(n,t){var r=n.cases.map((function(n){var r=N(n,2),e=r[0],u=r[1];return[t.getCommand(e),t.getCommand(u)]})),e=t.getCommand(n.otherwise);return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=q(r),a=o.next();!a.done;a=o.next()){var c=a.value,f=N(c,2),s=f[0],l=f[1];if(s(n))return t.returnProperty in n?void 0:l(n)}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}if(!(t.returnProperty in n))return e(n)}}})),n.setExpression(e.SwitchExpression,(function(n,t){var r=t.getCommand(n.value),e=n.cases.map((function(n){var r=N(n,2),e=r[0],u=r[1];return[e.map((function(n){return t.getCommand(n)})),t.getCommand(u)]})),u=t.getCommand(n.defaultCase),i=t.getOperation(n.op),o={};return function(n){var a,c,f,s;if(!(t.returnProperty in n)){var l=r(n);if(!(t.returnProperty in n)){try{for(var p=q(e),v=p.next();!v.done;v=p.next()){var O=N(v.value,2),d=O[0],m=O[1],h=!1;try{for(var b=q(d),y=b.next();!y.done;y=b.next()){var g=y.value;if(i({value:function(){return l},test:g},o)(n)){h=!0;break}if(t.returnProperty in n)return}}catch(n){f={error:n}}finally{try{y&&!y.done&&(s=b.return)&&s.call(b)}finally{if(f)throw f.error}}if(h)return m(n)}}catch(n){a={error:n}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}return u(n)}}}})),n.setExpression(e.NotExpression,(function(n,t){var r=t.getCommand(n.expression);return function(n){return!r(n)}})),n.setExpression(e.AndExpression,(function(n,t){var r=n.expressions.map((function(n){return t.getCommand(n)})),e=r.length>0;return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=q(r),a=o.next();!a.done;a=o.next()){if(!(0,a.value)(n)||t.returnProperty in n)return!1}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}return e}}})),n.setExpression(e.OrExpression,(function(n,t){var r=n.expressions.map((function(n){return t.getCommand(n)})),e=0===r.length;return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=q(r),a=o.next();!a.done;a=o.next()){var c=(0,a.value)(n);if(c||t.returnProperty in n)return c}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}return e}}})),n.setExpression(e.ForExpression,(function(n,t){var r=n.variable,e=t.getCommand(n.start),u=t.getCommand(n.end),i=t.getCommand(n.body),o=n.breakVariable,c=n.maxIterations;return function(n){if(!(t.returnProperty in n))return a(n,[r,o],(function(){n[o]=!1;var a,f=e(n),s=0,l=u(n),p=f<l?1:-1;if(!(t.returnProperty in n)){for(;(1===p?f<=l:f>=l)&&s++<c&&(n[r]=f,a=i(n),!(n[o]||t.returnProperty in n));)if(f+=p,l=u(n),t.returnProperty in n)return;return a}}))}})),n.setExpression(e.WhileExpression,(function(n,t){var r=t.getCommand(n.condition),e=t.getCommand(n.body),u=n.breakVariable,i=n.maxIterations;return function(n){if(!(t.returnProperty in n))return a(n,[u],(function(){var o,a=0;for(n[u]=!1;r(n)&&a++<i;){if(t.returnProperty in n)return;if(o=e(n),n[u]||t.returnProperty in n)break}return o}))}})),n.setExpression(e.DoExpression,(function(n,t){var r=t.getCommand(n.condition),e=t.getCommand(n.body),u=n.breakVariable,i=n.maxIterations;return function(n){if(!(t.returnProperty in n))return a(n,[u],(function(){var o,a=0;n[u]=!1;do{if(t.returnProperty in n)return;if(o=e(n),n[u]||t.returnProperty in n)break}while(r(n)&&a++<i);return o}))}})),n.setExpression(e.DefineExpression,(function(n,t){var r=n.define.map((function(n){var r=N(n,2),e=r[0],u=r[1];return[e,t.getCommand(u)]})),e=r.map((function(n){return N(n,1)[0]})),u=t.getCommand(n.body);return function(n){if(!(t.returnProperty in n))return a(n,e,(function(){var e,i;try{for(var o=q(r),a=o.next();!a.done;a=o.next()){var c=N(a.value,2),f=c[0],s=c[1];if(t.returnProperty in n)return;n[f]=s(n)}}catch(n){e={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}if(!(t.returnProperty in n))return u(n)}))}})),n.setExpression(e.TemplateExpression,(function(n,t){var r=Object(e.objectMap)(n.params,(function(n){return t.getCommand(n)})),u=n.template.split(/[\{\}]/).map((function(n,t){return t%2==0?function(t){return n}:function(t){return t&&n in t?t[n]:""}}));return function(n){var t=Object(e.objectMap)(r,(function(t){return t(n)}));return u.reduce((function(n,r){return n+r(t)}),"")}})),n.setExpression(e.InvokeExpression,(function(n,t){var r=t.getFunction(n.name),u=t.getCommand(r.options.expression),i=Object(e.objectMap)(n.args,(function(n){return t.getCommand(n)}));return function(n){if(!(t.returnProperty in n)){var r=Object(e.objectMap)(i,(function(t){return t(n)}));return u(r),r[t.returnProperty]}}})),n.setExpression(e.ReturnExpression,(function(n,t){var r=t.getCommand(n.value);return function(n){return n[t.returnProperty]=r(n)}})),n.setExpression(e.TupleExpression,(function(n,t){var r=n.expressions.map((function(n){return t.getCommand(n)}));return function(n){return r.map((function(t){return t(n)}))}})),n.setExpression(e.ObjectExpression,(function(n,t){var r=Object(e.objectMap)(n.props,(function(n){return t.getCommand(n)}));return function(n){return Object(e.objectMap)(r,(function(t){return t(n)}))}})),n.setExpression(e.NoExpression,(function(){return function(){}}))},P=function(n){var t=e.AnyOps;n.setOperation(t.cmp,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(e.copy)(n.value(t))}})),n.setOperation(t.isDefined,(function(n){return function(t){var r=n.value(t);return null!=r}})),n.setOperation(t.getDefined,(function(n,t){return function(r){var e=n.value(r),u=null!=e;if(u){var a=i(r,t);r[t.defined]=e,n.defined(r),o(r,a)}return u}})),n.setOperation(t.coalesce,(function(n){return function(t){var r=n.a(t);if(null!=r)return r;var e=n.b(t);if(null!=e)return e;var u=n.c(t);if(null!=u)return u;var i=n.d(t);if(null!=i)return i;var o=n.e(t);return null!=o?o:void 0}})),n.setOperation(t.isValid,(function(n){return function(n){return!0}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(e.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(e.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(e.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return C(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){var r=parseFloat(n.value(t));return isFinite(r)?r:0}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return Object(e.toString)(n.value(t))}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))},S=function(n){var t=e.BooleanOps;n.setOperation(t.create,(function(n){return function(n){return!1}})),n.setOperation(t.maybe,(function(n){return function(t){return p(n.value,t)}})),n.setOperation(t.and,(function(n){return function(t){return f(n.a,t)&&f(n.b,t)}})),n.setOperation(t.or,(function(n){return function(t){return f(n.a,t)||f(n.b,t)}})),n.setOperation(t.xor,(function(n){return function(t){return f(n.a,t)!==f(n.b,t)}})),n.setOperation(t.not,(function(n){return function(t){return!f(n.a,t)}})),n.setOperation(t.cmp,(function(n){return function(t){return(f(n.value,t)?1:0)-(f(n.test,t)?1:0)}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(e.isBoolean)(n.value(t))}})),n.setOperation(t.isTrue,(function(n){return function(t){return f(n.value,t,!1)}})),n.setOperation(t.isFalse,(function(n){return function(t){return!f(n.value,t,!1)}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(t.asDate,(function(n){return function(n){return new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return C(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return n.value(t)?1:0}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)?"true":"false"}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))},k=function(n){var t=e.DateOps;n.setOperation(t.create,(function(n){return function(n){return new Date}})),n.setOperation(t.now,(function(n){return function(n){return new Date}})),n.setOperation(t.today,(function(n){return function(n){return e.startOf.day(new Date)}})),n.setOperation(t.tomorrow,(function(n){return function(n){return Object(e.mutate)(Object(e.mutate)(new Date,e.startOf.day),(function(n){return e.add.day(n,1)}))}})),n.setOperation(t.yesterday,(function(n){return function(n){return Object(e.mutate)(Object(e.mutate)(new Date,e.startOf.day),(function(n){return e.add.day(n,-1)}))}})),n.setOperation(t.maybe,(function(n){return function(t){return E(n.value,t)}})),n.setOperation(t.parse,(function(n){return function(t){return f(n.parseAsUTC,t,!1)?new e.DateType({parseAsUTC:!0}).normalize(n.value(t)):e.DateType.baseType.normalize(n.value(t))}})),n.setOperation(t.fromText,(function(n){return function(t){return e.DateType.baseType.normalize(d(n.value,t))}})),n.setOperation(t.fromTimestamp,(function(n){return function(t){return new Date(v(n.value,t,Date.now()))}})),n.setOperation(t.fromTimestampSeconds,(function(n){return function(t){return new Date(1e3*v(n.value,t,Date.now()/1e3))}})),n.setOperation(t.min,(function(n){return function(t){var r=M(n.value,t),e=M(n.test,t);return r.valueOf()<e.valueOf()?r:e}})),n.setOperation(t.max,(function(n){return function(t){var r=M(n.value,t),e=M(n.test,t);return r.valueOf()>e.valueOf()?r:e}})),n.setOperation(t.get,(function(n){return function(t){var r=M(n.value,t),u=d(n.property,t,"timestamp");return u in e.getters?e.getters[u](r):-1}})),n.setOperation(t.set,(function(n){return function(t){var r=M(n.value,t),u=d(n.property,t,"timestamp"),i=v(n.set,t,0);return u in e.setters?e.setters[u](r,i):r}})),n.setOperation(t.add,(function(n){return function(t){var r=M(n.value,t),u=d(n.unit,t,"millis"),i=v(n.amount,t,0);return u in e.add?e.add[u](r,i):r}})),n.setOperation(t.sub,(function(n){return function(t){var r=M(n.value,t),u=d(n.unit,t,"millis"),i=v(n.amount,t,0);return u in e.add?e.add[u](r,-i):r}})),n.setOperation(t.startOf,(function(n){return function(t){var r=M(n.value,t),u=d(n.unit,t,"day");return u in e.startOf?Object(e.mutate)(r,e.startOf[u]):r}})),n.setOperation(t.endOf,(function(n){return function(t){var r=M(n.value,t),u=d(n.unit,t,"day");return u in e.endOf?Object(e.mutate)(r,e.endOf[u]):r}})),n.setOperation(t.daysInMonth,(function(n){return function(t){return Object(e.getDaysInMonth)(M(n.value,t))}})),n.setOperation(t.daysInYear,(function(n){return function(t){return Object(e.getDaysInYear)(M(n.value,t))}})),n.setOperation(t.weeksInYear,(function(n){return function(t){return Object(e.getWeeksInYear)(M(n.value,t))}})),n.setOperation(t.copy,(function(n){return function(t){return new Date(M(n.value,t).getTime())}})),n.setOperation(t.cmp,(function(n){return function(t){var r=M(n.value,t),u=M(n.test,t),i=d(n.unit,t,"millis");return i in e.startOf?Object(e.compareDates)(r,u,i):0}})),n.setOperation(t.diff,(function(n){return function(t){var r=M(n.value,t),u=M(n.test,t),i=d(n.unit,t,"millis"),o=f(n.absolute,t,!0),a=d(n.adjust,t,"down");if(!(i in e.diff&&a in e.adjusters))return Number.NaN;var c=e.adjusters[a](e.diff[i](r,u));return o?Math.abs(c):c}})),n.setOperation(t.timezoneOffset,(function(n){return function(t){return Object(e.getDateOffset)(M(n.value,t))}})),n.setOperation(t.toText,(function(n){return function(t){return e.DateFormat.format(d(n.format,t),[M(n.value,t),e.currentLocale])}})),n.setOperation(t.toISOText,(function(n){return function(t){return M(n.value,t).toISOString()}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(e.isDate)(n.value(t))}})),n.setOperation(t.isEqual,(function(r,e){return function(u){return 0===n.getOperation(t.cmp.id)(r,e)(u)}})),n.setOperation(t.isBefore,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<0}})),n.setOperation(t.isBeforeOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<=0}})),n.setOperation(t.isAfter,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>0}})),n.setOperation(t.isAfterOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>=0}})),n.setOperation(t.isBetween,(function(n){return function(t){var r=M(n.value,t),u=M(n.start,t),i=M(n.end,t),o=d(n.unit,t,"millis"),a=f(n.startInclusive,t,!0),c=f(n.endInclusive,t,!1),s=Object(e.compareDates)(r,u,o),l=Object(e.compareDates)(r,i,o);return s>=(a?0:1)&&l<=(c?0:-1)}})),n.setOperation(t.isStartOf,(function(n){return function(t){var r=M(n.value,t),u=d(n.unit,t,"millis");return u in e.startOf&&Object(e.mutate)(r,e.startOf[u]).getTime()===r.getTime()}})),n.setOperation(t.isEndOf,(function(n){return function(t){var r=M(n.value,t),u=d(n.unit,t,"millis");return u in e.endOf&&Object(e.mutate)(r,e.endOf[u]).getTime()===r.getTime()}})),n.setOperation(t.isDST,(function(n){return function(t){return Object(e.isDaylightSavingTime)(M(n.value,t))}})),n.setOperation(t.isLeapYear,(function(n){return function(t){return Object(e.isLeapYear)(M(n.value,t))}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(n){return!0}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(e.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return C(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return M(n.value,t).getTime()}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)+""}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))},I=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],r=0;return t?t.call(n):{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}},F=function(n){var t=e.ListOps;n.setOperation(t.create,(function(n){return function(n){return[]}})),n.setOperation(t.maybe,(function(n){return function(t){return b(n.value,t)}})),n.setOperation(t.build,(function(n,t){return function(r){var e=v(n.count,r),u=[];if(e<=0)return u;var a=i(r,t);if(f(n.sameItem,r,!1)){r[t.index]=0,r[t.last]=void 0,r[t.list]=u,r[t.count]=e;for(var c=n.item(r),s=0;s<e;s++)u[s]=c}else{var l=void 0;for(s=0;s<e;s++){r[t.index]=s,r[t.last]=l,r[t.list]=u,r[t.count]=e,l=c=n.item(r),u.push(c)}}return o(r,a),u}})),n.setOperation(t.get,(function(n){return function(t){return h(n.list,t)[v(n.index,t)]}})),n.setOperation(t.set,(function(n){return function(t){var r=h(n.list,t),e=v(n.index,t),u=r[e];return r[e]=n.value(t),u}})),n.setOperation(t.add,(function(n){return function(t){var r=h(n.list,t),e=c(n.item,t);return void 0!==e&&r.push(e),r}})),n.setOperation(t.addFirst,(function(n){return function(t){var r=h(n.list,t),e=c(n.item,t);return void 0!==e&&r.unshift(e),r}})),n.setOperation(t.addLast,(function(n){return function(t){var r=h(n.list,t),e=c(n.item,t);return void 0!==e&&r.push(e),r}})),n.setOperation(t.insert,(function(n){return function(t){var r=h(n.list,t),e=c(n.item,t),u=v(n.index,t,0);return void 0!==e&&r.splice(u,0,e),r}})),n.setOperation(t.remove,(function(n,t){return function(r){return W(h(n.list,r),r,n,t,n.item(r),(function(n){return 0}),(function(n){return n}),(function(n,t,r){return r.splice(t,1),t}),(function(){return-1}))}})),n.setOperation(t.removeFirst,(function(n,t){return function(t){return h(n.list,t).shift()}})),n.setOperation(t.removeLast,(function(n,t){return function(t){return h(n.list,t).pop()}})),n.setOperation(t.removeAt,(function(n,t){return function(t){var r,e=h(n.list,t),u=v(n.index,t,-1);return u>=0&&u<e.length&&(r=e[u],e.splice(u,1)),r}})),n.setOperation(t.removeWhere,(function(n,t){return function(r){return z(h(n.list,r),r,t,(function(n){return n-1}),(function(n){return-1}),[],(function(t,e,u,i){return n.where(r)&&(i.push(t),u.splice(e,1)),i}))}})),n.setOperation(t.contains,(function(n,t){return function(r){return W(h(n.list,r),r,n,t,n.item(r),(function(n){return 0}),(function(n){return n}),(function(){return!0}),(function(){return!1}))}})),n.setOperation(t.find,(function(n,t){return function(r){var e=f(n.reverse,r),u=h(n.list,r),i=u.length,o=v(n.start,r,e?i-1:0),a=Math.max(0,Math.min(i-1,o)),c=e?-1:i;return e!==a>c?-1:z(u,r,t,(function(){return o}),(function(){return c}),void 0,(function(t,e){if(n.where(r))return t}),!0)}})),n.setOperation(t.copy,(function(n,t){return function(r){return n.deepCopy?G(h(n.list,r),r,t,(function(e){return e.map((function(e){return r[t.copy]=e,n.deepCopy(r)}))})):h(n.list,r).slice()}})),n.setOperation(t.reverse,(function(n){return function(t){for(var r=h(n.list,t),e=Math.floor(r.length/2),u=0,i=r.length-1;u<e;u++,i--)V(r,u,i);return r}})),n.setOperation(t.exclude,(function(n,t){return function(r){var e,u,i=h(n.list,r),o=h(n.exclude,r);try{for(var a=I(o),c=a.next();!c.done;c=a.next()){var f=c.value;W(i,r,n,t,f,(function(n){return 0}),(function(n){return n}),(function(n,t){return i.splice(t,1),!0}),(function(){return!1}))}}catch(n){e={error:n}}finally{try{c&&!c.done&&(u=a.return)&&u.call(a)}finally{if(e)throw e.error}}return i}})),n.setOperation(t.overlap,(function(n,t){return function(r){var e,u,i=h(n.list,r),o=h(n.overlap,r),a=[];try{for(var c=I(o),f=c.next();!f.done;f=c.next()){var s=f.value;W(i,r,n,t,s,(function(n){return 0}),(function(n){return n}),(function(){return!0}),(function(){return!1}))&&a.push(s)}}catch(n){e={error:n}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(e)throw e.error}}return a}})),n.setOperation(t.sort,(function(n,t){return function(r){return G(h(n.list,r),r,t,(function(e){return e.sort((function(u,i){return r[t.list]=e,r[t.value]=u,r[t.test]=i,v(n.compare,r,0)})),e}))}})),n.setOperation(t.shuffle,(function(n){return function(t){for(var r=h(n.list,t),e=v(n.times,t,1),u=r.length;--e>=0;)for(var i=0;i<u;i++)V(r,i,Math.floor(Math.random()*u));return r}})),n.setOperation(t.unique,(function(n,t){return function(r){for(var e=h(n.list,r),u={},i=[],o=function(o){if(u[o])return"continue";var a=e[o];W(e,r,n,t,a,(function(n){return o+1}),(function(n){return n}),(function(n,t){return u[t]=!0}),(function(){return!1}))||i.push(a)},a=0;a<e.length-1;a++)o(a);return i}})),n.setOperation(t.duplicates,(function(n,t){return function(r){for(var e=h(n.list,r),u=f(n.once,r,!1),i={},o=[],a=function(a){var c=e[a];if(i[a]){if(u)return"continue";o.push(c)}W(e,r,n,t,c,(function(n){return a+1}),(function(n){return n}),(function(n,t){return i[t]=!0}),(function(){return!1}))&&o.push(c)},c=0;c<e.length;c++)a(c);return o}})),n.setOperation(t.take,(function(n){return function(t){return h(n.list,t).slice(0,v(n.count,t))}})),n.setOperation(t.skip,(function(n){return function(t){return h(n.list,t).slice(v(n.count,t))}})),n.setOperation(t.drop,(function(n){return function(t){var r=h(n.list,t),e=v(n.count,t);return r.slice(0,r.length-e)}})),n.setOperation(t.append,(function(n){return function(t){var r=h(n.list,t),e=h(n.append,t);return r.concat(e)}})),n.setOperation(t.prepend,(function(n){return function(t){var r=h(n.list,t);return h(n.prepend,t).concat(r)}})),n.setOperation(t.indexOf,(function(n,t){return function(r){return W(h(n.list,r),r,n,t,n.item(r),(function(t){return Math.max(0,Math.min(t,v(n.start,r,0)))}),(function(n){return n}),(function(n,t){return t}),(function(){return-1}))}})),n.setOperation(t.lastIndexOf,(function(n,t){return function(r){return W(h(n.list,r),r,n,t,n.item(r),(function(t){return Math.max(0,Math.min(t-1,v(n.start,r,t-1)))}),(function(n){return-1}),(function(n,t){return t}),(function(){return-1}))}})),n.setOperation(t.findIndex,(function(n,t){return function(r){var e=f(n.reverse,r),u=h(n.list,r),i=u.length,o=v(n.start,r,e?i-1:0),a=Math.max(0,Math.min(i-1,o)),c=e?-1:i;return e!==a>c?-1:z(u,r,t,(function(){return o}),(function(){return c}),-1,(function(t,e){if(n.where(r))return e}),!0)}})),n.setOperation(t.last,(function(n){return function(t){var r=h(n.list,t);return r[r.length-1]}})),n.setOperation(t.first,(function(n){return function(t){return h(n.list,t)[0]}})),n.setOperation(t.count,(function(n){return function(t){return h(n.list,t).length}})),n.setOperation(t.randomList,(function(n){return function(t){var r=h(n.list,t),e=r.length,u=Math.min(v(n.count,t,0),e);if(u===e)return r.slice();for(var i={},o=[];o.length<u;){var a=Math.floor(Math.random()*e);i[a]||(o.push(r[a]),i[a]=!0)}return o}})),n.setOperation(t.random,(function(n){return function(t){var r=h(n.list,t);return r[Math.floor(Math.random()*r.length)]}})),n.setOperation(t.join,(function(n,t){return function(r){return d(n.prefix,r)+z(h(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),"",(function(t,e,u,i){return i?i+d(n.delimiter,r,", ")+d(n.toText,r,t):i+d(n.toText,r,t)}))+d(n.suffix,r)}})),n.setOperation(t.each,(function(n,t){return function(r){var e=h(n.list,r),u=f(n.reverse,r,!1);return z(e,r,t,(function(n){return u?n-1:0}),(function(n){return u?-1:n}),void 0,(function(){return n.each(r)})),e}})),n.setOperation(t.filter,(function(n,t){return function(r){return z(h(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),[],(function(t,e,u,i){return n.filter(r)&&i.push(t),i}))}})),n.setOperation(t.not,(function(n,t){return function(r){return z(h(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),[],(function(t,e,u,i){return n.not(r)||i.push(t),i}))}})),n.setOperation(t.map,(function(n,t){return function(r){return z(h(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),[],(function(t,e,u,i){return i.push(n.transform(r)),i}))}})),n.setOperation(t.split,(function(n,t){return function(r){return z(h(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),{pass:[],fail:[]},(function(t,e,u,i){return n.pass(r)?i.pass.push(t):i.fail.push(t),i}))}})),n.setOperation(t.reduce,(function(n,t){return function(r){return z(h(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),n.initial(r),(function(e,u,i,o){return r[t.reduced]=o,n.reduce(r)}))}})),n.setOperation(t.cmp,(function(n,t){return function(r){var u=h(n.value,r),i=h(n.test,r);if(u.length!==i.length)return u.length-i.length;var o=0,a=0;return G(u,r,t,(function(){for(var e=0;e<u.length;e++){r[t.list]=u,r[t.value]=u[e],r[t.test]=i[e];var c=v(n.compare,r,0);c<0?o++:c>0&&a++}})),Object(e.getCompare)(o,a)}})),n.setOperation(t.group,(function(n,t){return function(r){var e=h(n.list,r);return G(e,r,t,(function(){for(var u=new Map,i=[],o=0;o<e.length;o++){var a=e[o];r[t.index]=o,r[t.item]=a,r[t.list]=e;var f=n.by(r),s=u.get(f),l=c(n.getValue,r,a);if(s)s.group.push(l);else{var p={by:f,group:[l]};i.push(p),u.set(f,p)}}return i}))}})),n.setOperation(t.toListMap,(function(n,t){return function(r){var e=h(n.list,r);return G(e,r,t,(function(){for(var u=new Map,i=0;i<e.length;i++){var o=e[i];r[t.index]=i,r[t.item]=o,r[t.list]=e;var a=n.getKey(r),f=u.get(a),s=c(n.getValue,r,o);f?f.push(s):u.set(a,[s])}return u}))}})),n.setOperation(t.toMap,(function(n,t){return function(r){var e=h(n.list,r);return G(e,r,t,(function(){for(var u=new Map,i=0;i<e.length;i++){var o=e[i];r[t.index]=i,r[t.item]=o,r[t.list]=e;var a=n.getKey(r),f=c(n.getValue,r,o);u.set(a,f)}return u}))}})),n.setOperation(t.min,(function(n,t){return function(r){return U(h(n.list,r),r,t,null,(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i=null===i?o:Math.min(o,i)),i}),(function(n){return n}))}})),n.setOperation(t.max,(function(n,t){return function(r){return U(h(n.list,r),r,t,null,(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i=null===i?o:Math.max(o,i)),i}),(function(n){return n}))}})),n.setOperation(t.sum,(function(n,t){return function(r){return U(h(n.list,r),r,t,null,(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i=null===i?o:o+i),i}),(function(n){return n}))}})),n.setOperation(t.avg,(function(n,t){return function(r){return U(h(n.list,r),r,t,{count:0,sum:0},(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i.count++,i.sum+=o),i}),(function(n){return 0===n.count?null:n.sum/n.count}))}})),n.setOperation(t.std,(function(n,t){return function(r){return U(h(n.list,r),r,t,{count:0,sum:0,values:[]},(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i.count++,i.sum+=o,i.values.push(o)),i}),(function(n){if(0===n.count)return null;var t=n.sum/n.count,r=n.values.reduce((function(n,r){return n+(r-t)*(r-t)}),0)/n.count;return Math.sqrt(r)}))}})),n.setOperation(t.variance,(function(n,t){return function(r){return U(h(n.list,r),r,t,{count:0,sum:0,values:[]},(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i.count++,i.sum+=o,i.values.push(o)),i}),(function(n){if(0===n.count)return null;if(1===n.count)return 0;var t=n.sum/n.count,r=n.values.reduce((function(n,r){return n+(r-t)*(r-t)}),0)/(n.count-1);return Math.sqrt(r)}))}})),n.setOperation(t.median,(function(n,t){return function(r){return U(h(n.list,r),r,t,{values:[]},(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&i.values.push(o),i}),(function(n){return 0===n.values.length?null:n.values.length%2==1?n.values[Math.floor(n.values.length/2)]:(n.values[Math.floor(n.values.length/2)-1]+n.values[Math.floor(n.values.length/2)])/2}))}})),n.setOperation(t.bitand,(function(n,t){return function(r){return U(h(n.list,r),r,t,1,(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i&=o),i}),(function(n){return n}))}})),n.setOperation(t.bitor,(function(n,t){return function(r){return U(h(n.list,r),r,t,0,(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i|=o),i}),(function(n){return n}))}})),n.setOperation(t.bitxor,(function(n,t){return function(r){return U(h(n.list,r),r,t,0,(function(t,e,u,i){var o=O(n.value,r);return void 0!==o&&(i^=o),i}),(function(n){return n}))}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(e.isArray)(n.value(t))}})),n.setOperation(t.isEmpty,(function(n,t){return function(t){return 0===h(n.list,t).length}})),n.setOperation(t.isNotEmpty,(function(n,t){return function(t){return h(n.list,t).length>0}})),n.setOperation(t.isEqual,(function(n,t){return function(r){var e=h(n.list,r),u=h(n.test,r);if(e.length!==u.length)return!1;var i=!0;return G(e,r,t,(function(){for(var o=0;o<e.length;o++)if(r[t.list]=e,r[t.value]=e[o],r[t.test]=u[o],!n.isEqual(r)){i=!1;break}})),i}})),n.setOperation(t.isNotEqual,(function(r,e){return function(u){return!n.getOperation(t.isEqual.id)(r,e)(u)}})),n.setOperation(t.isLess,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<0}})),n.setOperation(t.isLessOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<=0}})),n.setOperation(t.isGreater,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>0}})),n.setOperation(t.isGreaterOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return B(n.value,t,e.isBoolean,(function(n){return!Object(e.isEmpty)(n)}))}})),n.setOperation(t.asDate,(function(n){return function(t){return B(n.value,t,e.isDate,(function(){return new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return h(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){var r=h(n.value,t);return new Map(r.map((function(n,t){return[t.toString(),n]})))}})),n.setOperation(t.asNumber,(function(n){return function(t){return B(n.value,t,e.isNumber,(function(n){return n.length}))}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return B(n.value,t,e.isString,(function(){return""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))};function B(n,t,r,u){var i=n(t);return Object(e.isArray)(i)&&r(i[0])?i[0]:u(i)}function V(n,t,r){var e=n[t];n[t]=n[r],n[r]=e}function G(n,t,r,e){var u=i(t,r),a=e(n);return o(t,u),a}function U(n,t,r,e,u,i){return G(n,t,r,(function(){for(var o=e,a=0;a<n.length;a++){var c=n[a];t[r.list]=n,t[r.item]=c,t[r.index]=a,o=u(c,a,n,o)}return i(o)}))}function z(n,t,r,e,u,i,o,a){return void 0===a&&(a=!1),G(n,t,r,(function(){for(var c=n.length,f=e(c),s=u(c),l=f<s?1:-1,p=i;f!==s;){var v=n[f];t[r.list]=n,t[r.item]=v,t[r.index]=f;var O=o(v,f,n,p);if(a){if(void 0!==O)return O}else p=O;n[f]!==v&&1===f||(f+=l)}return p}))}function W(n,t,r,e,u,i,o,a,c){return G(n,t,e,(function(){for(var f=n.length,s=i(f),l=o(f),p=s<l?1:-1;s!==l;){var v=n[s],O=n[s+p];if(t[e.list]=n,t[e.value]=u,t[e.test]=v,r.isEqual(t)){var d=a(v,s,n);if(void 0!==d)return d;n[s]===O&&(s-=p)}s+=p}return c(n)}))}var _=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],r=0;return t?t.call(n):{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}},K=function(n,t){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var e,u,i=r.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(e=i.next()).done;)o.push(e.value)}catch(n){u={error:n}}finally{try{e&&!e.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o},R=function(n){var t=e.MapOps;n.setOperation(t.create,(function(n){return function(n){return new Map}})),n.setOperation(t.maybe,(function(n){return function(t){return g(n.value,t)}})),n.setOperation(t.get,(function(n){return function(t){return y(n.map,t).get(n.key(t))}})),n.setOperation(t.set,(function(n,t){return function(r){var e=y(n.map,r),u=n.key(r),a=e.get(u),c=i(r,t);r[t.existingValue]=a;var f=n.value(r);return e.set(u,f),o(r,c),a}})),n.setOperation(t.has,(function(n){return function(t){return y(n.map,t).has(n.key(t))}})),n.setOperation(t.delete,(function(n){return function(t){return y(n.map,t).delete(n.key(t))}})),n.setOperation(t.keys,(function(n){return function(t){return Object(e.toArray)(y(n.map,t).keys())}})),n.setOperation(t.values,(function(n){return function(t){return Object(e.toArray)(y(n.map,t).values())}})),n.setOperation(t.entries,(function(n){return function(t){var r,e,u=y(n.map,t),i={keys:[],values:[]};try{for(var o=_(u.entries()),a=o.next();!a.done;a=o.next()){var c=K(a.value,2),f=c[0],s=c[1];i.keys.push(f),i.values.push(s)}}catch(n){r={error:n}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return i}})),n.setOperation(t.pairs,(function(n){return function(t){var r,e,u=y(n.map,t),i=[];try{for(var o=_(u.entries()),a=o.next();!a.done;a=o.next()){var c=K(a.value,2),f=c[0],s=c[1];i.push({key:f,value:s})}}catch(n){r={error:n}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return i}})),n.setOperation(t.clear,(function(n){return function(t){var r=y(n.map,t);return r.clear(),r}})),n.setOperation(t.count,(function(n){return function(t){return y(n.map,t).size}})),n.setOperation(t.cmp,(function(n,t){return function(r){var u=y(n.value,r),i=y(n.test,r);return $(u,r,t,(function(){var o,a,c,f,s=0,l=0;try{for(var p=_(u.entries()),O=p.next();!O.done;O=p.next()){var d=K(O.value,2),m=d[0],h=d[1];if(i.has(m)){r[t.key]=m,r[t.value]=h,r[t.test]=i.get(m);var b=v(n.compare,r,0);b<0?s++:b>0&&l++}else l++}}catch(n){o={error:n}}finally{try{O&&!O.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}try{for(var y=_(i.keys()),g=y.next();!g.done;g=y.next()){m=g.value;u.has(m)||s++}}catch(n){c={error:n}}finally{try{g&&!g.done&&(f=y.return)&&f.call(y)}finally{if(c)throw c.error}}return Object(e.getCompare)(s,l)}))}})),n.setOperation(t.copy,(function(n,t){return function(r){var u=y(n.map,r),i=u.entries();if(!n.deepCopy&&!n.deepCopyKey)return new Map(Object(e.toArray)(i));var o=[];return $(u,r,t,(function(){var e,a;try{for(var f=_(i),s=f.next();!s.done;s=f.next()){var l=K(s.value,2),p=l[0],v=l[1];r[t.key]=p,r[t.value]=v,r[t.map]=u,o.push([c(n.deepCopyKey,r,p),c(n.deepCopy,r,v)])}}catch(n){e={error:n}}finally{try{s&&!s.done&&(a=f.return)&&a.call(f)}finally{if(e)throw e.error}}})),new Map(o)}})),n.setOperation(t.map,(function(n,t){return function(r){var u=y(n.map,r),i=u.entries();if(!n.transform&&!n.transformKey)return new Map(Object(e.toArray)(i));var o=[];return $(u,r,t,(function(){var e,a;try{for(var f=_(i),s=f.next();!s.done;s=f.next()){var l=K(s.value,2),p=l[0],v=l[1];r[t.key]=p,r[t.value]=v,r[t.map]=u,o.push([c(n.transformKey,r,p),c(n.transform,r,v)])}}catch(n){e={error:n}}finally{try{s&&!s.done&&(a=f.return)&&a.call(f)}finally{if(e)throw e.error}}})),new Map(o)}})),n.setOperation(t.toPlainObject,(function(n){return function(t){var r,e,u=y(n.map,t),i=Object.create(null);try{for(var o=_(u.entries()),a=o.next();!a.done;a=o.next()){var c=K(a.value,2),f=c[0],s=c[1];i[f]=s}}catch(n){r={error:n}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return i}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(e.isMap)(n.value(t))}})),n.setOperation(t.isEqual,(function(n,t){return function(r){var e=y(n.value,r),u=y(n.test,r);return e.size===u.size&&$(e,r,t,(function(){var i,o;try{for(var a=_(e.entries()),c=a.next();!c.done;c=a.next()){var f=K(c.value,2),s=f[0],l=f[1];if(!u.has(s))return!1;if(r[t.key]=s,r[t.value]=l,r[t.test]=u.get(s),!n.isEqual(r))return!1}}catch(n){i={error:n}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return!0}))}})),n.setOperation(t.isNotEqual,(function(r,e){return function(u){return!n.getOperation(t.isEqual.id)(r,e)(u)}})),n.setOperation(t.isLess,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<0}})),n.setOperation(t.isLessOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<=0}})),n.setOperation(t.isGreater,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>0}})),n.setOperation(t.isGreaterOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return Y(n.value,t,e.isBoolean,(function(n){return n.size>0}))}})),n.setOperation(t.asDate,(function(n){return function(t){return Y(n.value,t,e.isDate,(function(n){return new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return Object(e.toArray)(y(n.value,t).values())}})),n.setOperation(t.asMap,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return Y(n.value,t,e.isNumber,(function(n){return n.size}))}})),n.setOperation(t.asObject,(function(n){return function(t){return Y(n.value,t,e.isObject,(function(n){return{value:n}}))}})),n.setOperation(t.asText,(function(n){return function(t){return Y(n.value,t,e.isString,(function(n){return""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return Y(n.value,t,e.isArray,(function(n){return[n]}))}}))};function Y(n,t,r,u){var i=n(t);return Object(e.isMap)(i)&&r(i.get("value"))?i.get("value"):u(i)}function $(n,t,r,e){var u=i(t,r),a=e(n);return o(t,u),a}var H=function(n,t){void 0===t&&(t=1e-6);var r=e.NumberOps;n.setOperation(r.create,(function(n){return function(n){return 0}})),n.setOperation(r.pi,(function(n){return function(n){return Math.PI}})),n.setOperation(r.pi2,(function(n){return function(n){return Math.PI+Math.PI}})),n.setOperation(r.piHalf,(function(n){return function(n){return.5*Math.PI}})),n.setOperation(r.e,(function(n){return function(n){return Math.E}})),n.setOperation(r.sqrt2,(function(n){return function(n){return Math.SQRT2}})),n.setOperation(r.sqrt12,(function(n){return function(n){return Math.SQRT1_2}})),n.setOperation(r.ln2,(function(n){return function(n){return Math.LN2}})),n.setOperation(r.ln10,(function(n){return function(n){return Math.LN10}})),n.setOperation(r.log2e,(function(n){return function(n){return Math.LOG2E}})),n.setOperation(r.log10e,(function(n){return function(n){return Math.LOG10E}})),n.setOperation(r.add,(function(n){return function(t){return v(n.value,t)+v(n.addend,t)}})),n.setOperation(r.sub,(function(n){return function(t){return v(n.value,t)-v(n.subtrahend,t)}})),n.setOperation(r.mul,(function(n){return function(t){return v(n.value,t)*v(n.multiplier,t)}})),n.setOperation(r.div,(function(n){return function(t){return v(n.value,t)%v(n.divisor,t)}})),n.setOperation(r.mod,(function(n){return function(t){return v(n.value,t)%v(n.divisor,t)}})),n.setOperation(r.min,(function(n){return function(t){return Math.min(v(n.a,t),v(n.b,t))}})),n.setOperation(r.max,(function(n){return function(t){return Math.max(v(n.a,t),v(n.b,t))}})),n.setOperation(r.pow,(function(n){return function(t){return Math.pow(v(n.value,t),v(n.exponent,t))}})),n.setOperation(r.atan2,(function(n){return function(t){return Math.atan2(v(n.y,t),v(n.x,t))}})),n.setOperation(r.hypot,(function(n){return function(t){var r=v(n.a,t),e=v(n.b,t);return Math.sqrt(r*r+e*e)}})),n.setOperation(r.choose,(function(n){return function(t){var r=v(n.n,t),e=v(n.k,t);return isFinite(r)&&isFinite(e)?function(n,t){var r=1,e=1,u=0;t>n>>1&&(t=n-t);for(;t>=1;)r*=n--,e*=t--,u=Q(r,e),r/=u,e/=u;return r}(r,e):Number.NaN}})),n.setOperation(r.gcd,(function(n){return function(t){var r=v(n.a,t),e=v(n.b,t);return isFinite(r)&&isFinite(e)?Q(r,e):Number.NaN}})),n.setOperation(r.bitAnd,(function(n){return function(t){return v(n.a,t)&v(n.b,t)}})),n.setOperation(r.bitOr,(function(n){return function(t){return v(n.a,t)|v(n.b,t)}})),n.setOperation(r.bitXor,(function(n){return function(t){return v(n.a,t)^v(n.b,t)}})),n.setOperation(r.cmp,(function(n){return function(t){return v(n.value,t)-v(n.test,t)}})),n.setOperation(r.maybe,(function(n){return function(t){return O(n.value,t)}})),n.setOperation(r.sqrt,(function(n){return function(t){return Math.sqrt(v(n.value,t))}})),n.setOperation(r.sq,(function(n){return function(t){var r=v(n.value,t);return r*r}})),n.setOperation(r.cbrt,(function(n){return function(t){return Math.cbrt(v(n.value,t))}})),n.setOperation(r.floor,(function(n){return function(t){return Math.floor(v(n.value,t))}})),n.setOperation(r.ceil,(function(n){return function(t){return Math.ceil(v(n.value,t))}})),n.setOperation(r.up,(function(n){return function(t){var r=v(n.value,t);return r<0?Math.ceil(r):Math.floor(r)}})),n.setOperation(r.down,(function(n){return function(t){var r=v(n.value,t);return r>0?Math.ceil(r):Math.floor(r)}})),n.setOperation(r.round,(function(n){return function(t){return Math.round(v(n.value,t))}})),n.setOperation(r.abs,(function(n){return function(t){return Math.abs(v(n.value,t))}})),n.setOperation(r.neg,(function(n){return function(t){return-v(n.value,t)}})),n.setOperation(r.sign,(function(n){return function(t){var r=v(n.value,t);return 0===r?0:r<0?-1:1}})),n.setOperation(r.log,(function(n){return function(t){return Math.log(v(n.value,t))}})),n.setOperation(r.sin,(function(n){return function(t){return Math.sin(v(n.value,t))}})),n.setOperation(r.cos,(function(n){return function(t){return Math.cos(v(n.value,t))}})),n.setOperation(r.tan,(function(n){return function(t){return Math.tan(v(n.value,t))}})),n.setOperation(r.sinh,(function(n){return function(t){return Math.sinh(v(n.value,t))}})),n.setOperation(r.cosh,(function(n){return function(t){return Math.cosh(v(n.value,t))}})),n.setOperation(r.asin,(function(n){return function(t){return Math.asin(v(n.value,t))}})),n.setOperation(r.acos,(function(n){return function(t){return Math.acos(v(n.value,t))}})),n.setOperation(r.atan,(function(n){return function(t){return Math.atan(v(n.value,t))}})),n.setOperation(r.factorial,(function(n){return function(t){var r=v(n.value,t);return isFinite(r)?function(n){var t=n;for(;--n>1;)t*=n;return t}(r):r}})),n.setOperation(r.bitFlip,(function(n){return function(t){return~v(n.value,t)}})),n.setOperation(r.clamp,(function(n){return function(t){return Math.max(v(n.min,t),Math.min(v(n.value,t),v(n.max,t)))}})),n.setOperation(r.triangleHeight,(function(n){return function(t){var r=v(n.base,t),e=v(n.side1,t),u=v(n.side2,t);return isFinite(r)&&isFinite(e)&&isFinite(u)?function(n,t,r){var e=(n+t+r)*X;return Math.sqrt(e*(e-n)*(e-t)*(e-r))*Z/n}(r,e,u):Number.NaN}})),n.setOperation(r.lerp,(function(n){return function(t){var r=v(n.start,t);return(v(n.end,t)-r)*v(n.delta,t)+r}})),n.setOperation(r.rnd,(function(n){return function(t){var r=v(n.min,t,0),e=v(n.max,t,1)-r,u=f(n.whole,t,!1),i=f(n.includeMax,t,!0);return u?i?Math.floor((e+1)*Math.random())+r:Math.floor(e*Math.random())+r:Math.random()*e+r}})),n.setOperation(r.toBaseText,(function(n){return function(t){var r=v(n.value,t);if(!isFinite(r))return r;for(var e=v(n.base,t,10),u=v(n.minDigits,t,0),i=r.toString(e);i.length<u;)i="0"+i;return i}})),n.setOperation(r.toText,(function(n){return function(t){var r=v(n.value,t);if(!isFinite(r))return r;var u=d(n.prefix,t),i=d(n.suffix,t),o=O(n.minPlaces,t),a=O(n.maxPlaces,t),c=f(n.useExponent,t,!1),s=m(n.thousandSeparator,t),l="";l=c?r.toExponential(Object(e.isUndefined)(a)?o:a):Object(e.isNumber)(o)?r.toFixed(o):r.toPrecision(a);if(Object(e.isString)(s)){var p=1.1.toLocaleString().substring(1,2),h=l.indexOf(p);for(-1===h&&(h=l.length),h-=3;h>0;)l=l.substring(0,h)+s+l.substring(h),h-=3}return u+l+i}})),n.setOperation(r.isValid,(function(n){return function(t){return Object(e.isNumber)(n.value(t))}})),n.setOperation(r.isZero,(function(n){return function(r){return Math.abs(v(n.value,r))<=v(n.epsilon,r,t)}})),n.setOperation(r.isEqual,(function(n){return function(r){return Math.abs(v(n.value,r)-v(n.test,r))<=v(n.epsilon,r,t)}})),n.setOperation(r.isNotEqual,(function(n){return function(r){return Math.abs(v(n.value,r)-v(n.test,r))>v(n.epsilon,r,t)}})),n.setOperation(r.isLess,(function(n){return function(t){return v(n.value,t)<v(n.test,t)}})),n.setOperation(r.isLessOrEqual,(function(n){return function(t){return v(n.value,t)<=v(n.test,t)}})),n.setOperation(r.isGreater,(function(n){return function(t){return v(n.value,t)>v(n.test,t)}})),n.setOperation(r.isGreaterOrEqual,(function(n){return function(t){return v(n.value,t)>=v(n.test,t)}})),n.setOperation(r.isBetween,(function(n){return function(t){var r=v(n.value,t),e=v(n.min,t),u=v(n.max,t),i=f(n.minInclusive,t,!0),o=f(n.maxInclusive,t,!0);return r-e>=(i?0:1)&&r-u<=(o?0:-1)}})),n.setOperation(r.isWhole,(function(n){return function(r){var u=v(n.value,r),i=v(n.epsilon,r,t);return Object(e.isWhole)(u,i)}})),n.setOperation(r.isDecimal,(function(n){return function(r){var u=v(n.value,r),i=v(n.epsilon,r,t);return!Object(e.isWhole)(u,i)}})),n.setOperation(r.isPositive,(function(n){return function(t){return v(n.value,t)>=0}})),n.setOperation(r.isNegative,(function(n){return function(t){return v(n.value,t)<0}})),n.setOperation(r.isDivisible,(function(n){return function(r){return Math.abs(v(n.value,r)%v(n.by,r))<=v(n.epsilon,r,t)}})),n.setOperation(r.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(r.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(r.asDate,(function(n){return function(t){return Object(e.parse)(n.value(t))||new Date}})),n.setOperation(r.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(r.asMap,(function(n){return function(t){return C(n.value,t)}})),n.setOperation(r.asNumber,(function(n){return function(t){return n.value(t)}})),n.setOperation(r.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(r.asText,(function(n){return function(t){return n.value(t)+""}})),n.setOperation(r.asTuple,(function(n){return function(t){return L(n.value,t)}}))};function Q(n,t){for(var r=Math.abs(n),e=Math.abs(t),u=Math.max(r,e),i=Math.min(r,e);;){if(0===i)return u;if(0===(u%=i))return i;i%=u}}var X=.5,Z=2;var J=function(n){var t=e.ObjectOps;n.setOperation(t.create,(function(n){return function(n){return Object.create(null)}})),n.setOperation(t.maybe,(function(n){return function(t){return j(n.value,t)}})),n.setOperation(t.has,(function(n){return function(t){return n.key(t)in x(n.object,t)}})),n.setOperation(t.get,(function(n){return function(t){return x(n.object,t)[n.key(t)]}})),n.setOperation(t.set,(function(n,t){return function(r){var e=x(n.object,r),u=n.key(r),a=i(r,t);r[t.existingValue]=e[u];var c=n.value(r);return e[u]=c,o(r,a),e}})),n.setOperation(t.delete,(function(n){return function(t){var r=x(n.object,t),e=n.key(t),u=r[e];return delete r[e],u}})),n.setOperation(t.cmp,(function(n){return function(t){return Object(e.compare)(x(n.value,t),x(n.test,t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(e.copy)(x(n.object,t))}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(e.isObject)(n.value(t))}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(e.compare)(x(n.value,t),x(n.test,t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(e.compare)(x(n.value,t),x(n.test,t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(e.compare)(x(n.value,t),x(n.test,t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(e.compare)(x(n.value,t),x(n.test,t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(e.compare)(x(n.value,t),x(n.test,t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(e.compare)(x(n.value,t),x(n.test,t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return nn(n.value,t,e.isBoolean,(function(){return!0}))}})),n.setOperation(t.asDate,(function(n){return function(t){return nn(n.value,t,e.isDate,(function(){return new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return nn(n.value,t,e.isArray,(function(n){return Object(e.isEmpty)(n)?[]:[n]}))}})),n.setOperation(t.asMap,(function(n){return function(t){return nn(n.value,t,e.isMap,(function(n){return Object(e.isEmpty)(n)?new Map:new Map([["value",n]])}))}})),n.setOperation(t.asNumber,(function(n){return function(t){return nn(n.value,t,e.isNumber,(function(){return 0}))}})),n.setOperation(t.asObject,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asText,(function(n){return function(t){return nn(n.value,t,e.isString,(function(n){return Object(e.toString)(n)}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return nn(n.value,t,e.isArray,(function(n){return[n]}))}}))};function nn(n,t,r,u){var i=n(t);return Object(e.isObject)(i)&&r(i.value)?i.value:u(i)}var tn=function(n){var t=e.TextOps;n.setOperation(t.create,(function(n){return function(n){return""}})),n.setOperation(t.maybe,(function(n){return function(t){return m(n.value,t)}})),n.setOperation(t.append,(function(n){return function(t){return d(n.value,t)+d(n.append,t)}})),n.setOperation(t.prepend,(function(n){return function(t){return d(n.prepend,t)+d(n.value,t)}})),n.setOperation(t.lower,(function(n){return function(t){return d(n.value,t).toLowerCase()}})),n.setOperation(t.upper,(function(n){return function(t){return d(n.value,t).toUpperCase()}})),n.setOperation(t.char,(function(n){return function(t){var r=d(n.value,t),e=v(n.index,t);return e<=r.length?r.charAt(e):d(n.outside,t)}})),n.setOperation(t.replace,(function(n){return function(t){return d(n.value,t).replace(d(n.find,t),d(n.replace,t))}})),n.setOperation(t.repeat,(function(n){return function(t){for(var r=v(n.value,t),e=v(n.times,t),u="";--e>=0;)u+=r;return u}})),n.setOperation(t.split,(function(n){return function(t){return d(n.value,t).split(d(n.by,t),O(n.limit,t))}})),n.setOperation(t.chars,(function(n){return function(t){return d(n.value,t)}})),n.setOperation(t.sub,(function(n){return function(t){return d(n.value,t).substring(v(n.start,t,0),O(n.end,t))}})),n.setOperation(t.indexOf,(function(n){return function(t){return d(n.value,t).indexOf(d(n.search,t),O(n.start,t))}})),n.setOperation(t.lastIndexOf,(function(n){return function(t){return d(n.value,t).lastIndexOf(d(n.search,t),O(n.start,t))}})),n.setOperation(t.trim,(function(n){return function(t){var r=d(n.value,t);return f(n.start,t,!0)&&(r=r.replace(/^\w+/,"")),f(n.end,t,!0)&&(r=r.replace(/\w+$/,"")),r}})),n.setOperation(t.startsWith,(function(n){return function(t){var r=d(n.value,t),e=d(n.test,t);return r.substring(0,e.length)===e}})),n.setOperation(t.endsWith,(function(n){return function(t){var r=d(n.value,t),e=d(n.test,t);return r.substring(r.length-e.length)===e}})),n.setOperation(t.soundex,(function(n){var t=/[^a-z]/g,r=/[^bfpvcgjkqsxzdtlmnr]/g,e={b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,d:3,t:3,l:4,m:5,n:5,r:6};return function(u){for(var i=d(n.value,u),o=O(n.max,u),a=v(n.min,u,4),c=(i=(i=(i=i.toLowerCase()).replace(t,"")).charAt(0)+i.substring(1).replace(r,"")).charAt(0),f=1;f<i.length;f++)c+=e[i.charAt(f)];var s=c.charAt(1);for(f=2;f<c.length;f++)c.charAt(f)===s?(c=c.substring(0,f)+c.substring(f+1),f--):s=c.charAt(f);for(isFinite(o)&&(c=c.substring(0,o+1));c.length<a;)c+="0";return c}})),n.setOperation(t.distance,(function(n){return function(t){return function(n,t){for(var r=Array(t.length+1).fill(null).map((function(){return Array(n.length+1).fill(null)})),e=0;e<=n.length;e+=1)r[0][e]=e;for(var u=0;u<=t.length;u+=1)r[u][0]=u;for(u=1;u<=t.length;u+=1)for(e=1;e<=n.length;e+=1){var i=n[e-1]===t[u-1]?0:1;r[u][e]=Math.min(r[u][e-1]+1,r[u-1][e]+1,r[u-1][e-1]+i)}return r[t.length][n.length]}(d(n.value,t),d(n.test,t))}})),n.setOperation(t.length,(function(n){return function(t){return d(n.value,t).length}})),n.setOperation(t.compare,(function(n){return function(t){return rn(d(n.value,t),d(n.test,t),f(n.ignoreCase,t,!1))}})),n.setOperation(t.like,(function(n){return function(t){var r=d(n.value,t),e=d(n.pattern,t),u=f(n.ignoreCase,t,!1),i=e.split("%").map((function(n){return n?n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):n})).join(".*"),o=new RegExp("^"+i+"$",u?"i":void 0);return!!r.match(o)}})),n.setOperation(t.pad,(function(n){return function(t){var r=d(n.value,t),e=d(n.padding,t)||" ",u=f(n.append,t),i=v(n.min,t),o=O(n.max,t);if(u)for(;r.length<i;)r+=e;else for(;r.length<i;)r=e+r;return void 0!==o&&r.length>o&&(r=u?r.substring(0,o):r.substring(o-r.length,o)),r}})),n.setOperation(t.toNumber,(function(n){return function(t){var r=parseFloat(d(n.value,t));return isFinite(r)?r:v(n.invalidValue,t,0)}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(e.isString)(n.value(t))}})),n.setOperation(t.isEmpty,(function(n){return function(t){return 0===d(n.value,t).length}})),n.setOperation(t.isNotEmpty,(function(n){return function(t){return 0!==d(n.value,t).length}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===rn(d(n.a,t),d(n.b,t),f(n.ignoreCase,t,!1))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==rn(d(n.a,t),d(n.b,t),f(n.ignoreCase,t,!1))}})),n.setOperation(t.isLess,(function(n){return function(t){return rn(d(n.value,t),d(n.test,t),f(n.ignoreCase,t,!1))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return rn(d(n.value,t),d(n.test,t),f(n.ignoreCase,t,!1))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return rn(d(n.value,t),d(n.test,t),f(n.ignoreCase,t,!1))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return rn(d(n.value,t),d(n.test,t),f(n.ignoreCase,t,!1))>=0}})),n.setOperation(t.isLower,(function(n){return function(t){var r=d(n.value,t);return 0===r.localeCompare(r.toLowerCase())}})),n.setOperation(t.isUpper,(function(n){return function(t){var r=d(n.value,t);return 0===r.localeCompare(r.toUpperCase())}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return/^(true|t|1|y|x)$/.test(d(n.value,t))}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(e.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return C(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){var r=parseFloat(n.value(t));return isFinite(r)?r:0}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))};function rn(n,t,r){return r?n.toLowerCase().localeCompare(t.toLowerCase()):n.localeCompare(t)}var en=function(n){var t=e.TupleOps;n.setOperation(t.create,(function(n){return function(n){return[]}})),n.setOperation(t.maybe,(function(n){return function(t){return b(n.value,t)}})),n.setOperation(t.cmp,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(e.copy)(n.value(t))}})),n.setOperation(t.get,(function(n){return function(t){return h(n.value,t)[v(n.index,t,0)]}})),n.setOperation(t.set,(function(n){return function(t){var r=h(n.value,t),e=v(n.index,t,0),u=r[e];return r[e]=n.element(t),u}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(e.isArray)(n.value(t))}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(e.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(e.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(e.compare)(n.value(t),n.test(t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return un(n.value,t,e.isBoolean,(function(n){return n.find&&n.find(e.isBoolean)||!1}))}})),n.setOperation(t.asDate,(function(n){return function(t){return un(n.value,t,e.isDate,(function(n){return n.find&&n.find(e.isDate)||new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return un(n.value,t,e.isArray,(function(n){return Object(e.isEmpty)(n)?[]:[n]}))}})),n.setOperation(t.asMap,(function(n){return function(t){return un(n.value,t,e.isMap,(function(n){return Object(e.isEmpty)(n)?new Map:new Map([["value",n]])}))}})),n.setOperation(t.asNumber,(function(n){return function(t){return un(n.value,t,e.isNumber,(function(n){return n.find&&n.find(e.isNumber)||0}))}})),n.setOperation(t.asObject,(function(n){return function(t){return un(n.value,t,e.isObject,(function(n){return{value:n}}))}})),n.setOperation(t.asText,(function(n){return function(t){return un(n.value,t,e.isString,(function(n){return n.find&&n.find(e.isString)||""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return n.value(t)}}))};function un(n,t,r,u){var i=n(t);return Object(e.isArray)(i)&&r(i[0])?i[0]:u(i)}r.d(t,"LiveRuntime",(function(){return u})),r.d(t,"addLiveExpressions",(function(){return A})),r.d(t,"addLiveAny",(function(){return P})),r.d(t,"addLiveBoolean",(function(){return S})),r.d(t,"addLiveDate",(function(){return k})),r.d(t,"addLiveList",(function(){return F})),r.d(t,"addLiveMap",(function(){return R})),r.d(t,"addLiveNumber",(function(){return H})),r.d(t,"addLiveObject",(function(){return J})),r.d(t,"addLiveText",(function(){return tn})),r.d(t,"addLiveTuple",(function(){return en})),A(u),P(u),S(u),k(u),F(u),R(u),H(u),J(u),tn(u),en(u)}])}));
//# sourceMappingURL=expangine-runtime-live.js.map
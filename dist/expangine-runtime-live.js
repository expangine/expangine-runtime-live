!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("expangine-runtime"),require("metaphone")):"function"==typeof define&&define.amd?define(["expangine-runtime","metaphone"],t):"object"==typeof exports?exports["expangine-runtime-live"]=t(require("expangine-runtime"),require("metaphone")):n["expangine-runtime-live"]=t(n["expangine-runtime"],n.metaphone)}(window,(function(n,t){return function(n){var t={};function r(e){if(t[e])return t[e].exports;var u=t[e]={i:e,l:!1,exports:{}};return n[e].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var u in n)r.d(e,u,function(t){return n[t]}.bind(null,u));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=2)}([function(t,r){t.exports=n},function(n,r){n.exports=t},function(n,t,r){"use strict";r.r(t);var e,u=r(0),i=(e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(n){function t(){return n.call(this,u.defs)||this}return i(t,n),t.prototype.wrapCommandWithReturn=function(n){var t=this;return function(r){var e=n(r);return t.returnProperty in r?r[t.returnProperty]:e}},t.prototype.getCommandWithReturn=function(n,t){return void 0===t&&(t=this),this.wrapCommandWithReturn(this.getCommand(n,t))},t.prototype.run=function(n,t,r){return void 0===r&&(r=this),this.getCommandWithReturn(this.defs.getExpression(n),r)(t)},t}(u.Runtime),a=new o;function c(n,t){var r={};for(var e in t){var u=t[e];r[u]=n[u]}return r}function f(n,t){for(var r in t)void 0===t[r]?delete n[r]:n[r]=t[r]}function s(n,t,r){var e=t.map((function(t){return n[t]})),u=r();return e.forEach((function(r,e){return void 0===r?delete n[t[e]]:n[t[e]]=r})),u}function l(n,t,r){return n?n(t):r}function p(n,t,r){return void 0===r&&(r=!1),n?!!n(t):r}function v(n,t){return function(r,e,u){if(void 0===u&&(u=t),!r)return u;var i=r(e);return n(i)?i:u}}function O(n,t){return function(r,e,u){if(void 0===u&&(u=t),!r)return u();var i=r(e);return n(i)?i:u()}}var m=v(u.isBoolean,void 0),d=v(u.isNumber,Number.NaN),b=v(u.isNumber,void 0),g=v(u.isString,""),h=v(u.isString,void 0),y=O(u.isArray,(function(){return[]})),M=v(u.isArray,void 0),x=O(u.isMap,(function(){return new Map})),C=v(u.isMap,void 0),N=O(u.isObject,(function(){return{}})),E=v(u.isObject,void 0),j=O(u.isColor,(function(){return{r:255,g:255,b:255,a:255}})),T=v(u.isColor,void 0),A=O(u.isDate,(function(){return new Date})),P=v(u.isDate,void 0);function w(n,t){return[n(t)]}function _(n,t){return new Map([["value",n(t)]])}function D(n,t){return{value:n(t)}}function L(n,t){return[n(t)]}function X(n,t){var r=n(t);return Object(u.isColor)(r)?r:Object(u.isNumber)(r)?{r:r,g:r,b:r,a:r}:{r:255,g:255,b:255,a:255}}function S(n,t,r,e,u){return new RegExp(g(n,t),(q(r,t,!1)?"g":"")+(q(u,t,!1)?"m":"")+(q(e,t,!1)?"i":""))}function q(n,t,r){return void 0===r&&(r=!1),Object(u.isBoolean)(n)?n:Object(u.isFunction)(n)?!!n(t):r}var k=function(){return(k=Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}).apply(this,arguments)},I=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],r=0;return t?t.call(n):{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}},F=function(n,t){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var e,u,i=r.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(e=i.next()).done;)o.push(e.value)}catch(n){u={error:n}}finally{try{e&&!e.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o},B=function(n){function t(n){return Object(u.isObject)(n)||Object(u.isArray)(n)||Object(u.isString)(n)}function r(n,t,r){for(var e,i,o=r.length-1,a=0;a<=o&&!Object(u.isUndefined)(t);a++){i=r[a](n),e=t;var c=t instanceof Map?t.get(i):null===t?void 0:t[i];if(Object(u.isUndefined)(c)&&a!==o)return{end:!1,previous:e,step:i,value:void 0};t=c}return{end:!0,previous:e,step:i,value:t}}n.setExpression(u.ConstantExpression,(function(n,t){return function(){return Object(u.copy)(n.value)}})),n.setExpression(u.GetExpression,(function(n,t){var e=n.path.map((function(n){return t.getCommand(n)}));return function(n){return r(n,n,e).value}})),n.setExpression(u.SetExpression,(function(n,e){var u=n.path.map((function(n){return e.getCommand(n)})),i=e.getCommand(n.value);return function(n){var e=r(n,n,u),o=e.end,a=e.previous,c=e.step;if(o){if(a instanceof Map)a.set(c,i(n));else{if(!t(a))return!1;a[c]=i(n)}return!0}return!1}})),n.setExpression(u.UpdateExpression,(function(n,e){var u=n.path.map((function(n){return e.getCommand(n)})),i=e.getCommand(n.value),o=n.currentVariable;return function(n){var e=r(n,n,u),a=e.end,c=e.previous,f=e.step,l=e.value;return!!a&&s(n,[o],(function(){if(n[o]=l,c instanceof Map)c.set(f,i(n));else{if(!t(c))return!1;c[f]=i(n)}return!0}))}})),n.setExpression(u.SubExpression,(function(n,t){var e=t.getCommand(n.value),u=n.path.map((function(n){return t.getCommand(n)}));return function(n){return r(n,e(n),u).value}})),n.setExpression(u.OperationExpression,(function(n,t){var r=Object(u.objectMap)(n.params,(function(n){return t.getCommand(n)})),e=t.getOperation(n.name);if(!e)throw new Error("Operation with "+n.name+" is not defined in the given runtime.");var i=t.getOperationScopeDefaults(n.name),o=n.scopeAlias;if(i)for(var a in i)a in o||(o===n.scopeAlias&&(o=k({},o)),o[a]=i[a]);var c=e(r,o);return function(n){if(!(t.returnProperty in n))return c(n)}})),n.setExpression(u.ChainExpression,(function(n,t){var r=n.chain.map((function(n){return t.getCommand(n)}));return function(n){var e,u;if(!(t.returnProperty in n)){var i;try{for(var o=I(r),a=o.next();!a.done;a=o.next()){if(i=(0,a.value)(n),t.returnProperty in n)return}}catch(n){e={error:n}}finally{try{a&&!a.done&&(u=o.return)&&u.call(o)}finally{if(e)throw e.error}}return i}}})),n.setExpression(u.IfExpression,(function(n,t){var r=n.cases.map((function(n){var r=F(n,2),e=r[0],u=r[1];return[t.getCommand(e),t.getCommand(u)]})),e=t.getCommand(n.otherwise);return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=I(r),a=o.next();!a.done;a=o.next()){var c=a.value,f=F(c,2),s=f[0],l=f[1];if(s(n))return t.returnProperty in n?void 0:l(n)}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}if(!(t.returnProperty in n))return e(n)}}})),n.setExpression(u.SwitchExpression,(function(n,t){var r=t.getCommand(n.value),e=n.cases.map((function(n){var r=F(n,2),e=r[0],u=r[1];return[e.map((function(n){return t.getCommand(n)})),t.getCommand(u)]})),u=t.getCommand(n.defaultCase),i=t.getOperation(n.op),o={};return function(n){var a,c,f,s;if(!(t.returnProperty in n)){var l=r(n);if(!(t.returnProperty in n)){try{for(var p=I(e),v=p.next();!v.done;v=p.next()){var O=F(v.value,2),m=O[0],d=O[1],b=!1;try{for(var g=I(m),h=g.next();!h.done;h=g.next()){var y=h.value;if(i({value:function(){return l},test:y},o)(n)){b=!0;break}if(t.returnProperty in n)return}}catch(n){f={error:n}}finally{try{h&&!h.done&&(s=g.return)&&s.call(g)}finally{if(f)throw f.error}}if(b)return d(n)}}catch(n){a={error:n}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}return u(n)}}}})),n.setExpression(u.NotExpression,(function(n,t){var r=t.getCommand(n.expression);return function(n){return!r(n)}})),n.setExpression(u.AndExpression,(function(n,t){var r=n.expressions.map((function(n){return t.getCommand(n)})),e=r.length>0;return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=I(r),a=o.next();!a.done;a=o.next()){if(!(0,a.value)(n)||t.returnProperty in n)return!1}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}return e}}})),n.setExpression(u.OrExpression,(function(n,t){var r=n.expressions.map((function(n){return t.getCommand(n)})),e=0===r.length;return function(n){var u,i;if(!(t.returnProperty in n)){try{for(var o=I(r),a=o.next();!a.done;a=o.next()){var c=(0,a.value)(n);if(c||t.returnProperty in n)return c}}catch(n){u={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(u)throw u.error}}return e}}})),n.setExpression(u.ForExpression,(function(n,t){var r=n.variable,e=t.getCommand(n.start),u=t.getCommand(n.end),i=t.getCommand(n.body),o=n.breakVariable,a=n.maxIterations;return function(n){if(!(t.returnProperty in n))return s(n,[r,o],(function(){n[o]=!1;var c,f=e(n),s=0,l=u(n),p=f<l?1:-1;if(!(t.returnProperty in n)){for(;(1===p?f<=l:f>=l)&&s++<a&&(n[r]=f,c=i(n),!(n[o]||t.returnProperty in n));)if(f+=p,l=u(n),t.returnProperty in n)return;return c}}))}})),n.setExpression(u.WhileExpression,(function(n,t){var r=t.getCommand(n.condition),e=t.getCommand(n.body),u=n.breakVariable,i=n.maxIterations;return function(n){if(!(t.returnProperty in n))return s(n,[u],(function(){var o,a=0;for(n[u]=!1;r(n)&&a++<i;){if(t.returnProperty in n)return;if(o=e(n),n[u]||t.returnProperty in n)break}return o}))}})),n.setExpression(u.DoExpression,(function(n,t){var r=t.getCommand(n.condition),e=t.getCommand(n.body),u=n.breakVariable,i=n.maxIterations;return function(n){if(!(t.returnProperty in n))return s(n,[u],(function(){var o,a=0;n[u]=!1;do{if(t.returnProperty in n)return;if(o=e(n),n[u]||t.returnProperty in n)break}while(r(n)&&a++<i);return o}))}})),n.setExpression(u.DefineExpression,(function(n,t){var r=n.define.map((function(n){var r=F(n,2),e=r[0],u=r[1];return[e,t.getCommand(u)]})),e=r.map((function(n){return F(n,1)[0]})),u=t.getCommand(n.body);return function(n){if(!(t.returnProperty in n))return s(n,e,(function(){var e,i;try{for(var o=I(r),a=o.next();!a.done;a=o.next()){var c=F(a.value,2),f=c[0],s=c[1];if(t.returnProperty in n)return;n[f]=s(n)}}catch(n){e={error:n}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}if(!(t.returnProperty in n))return u(n)}))}})),n.setExpression(u.TemplateExpression,(function(n,t){var r=Object(u.objectMap)(n.params,(function(n){return t.getCommand(n)})),e=n.template.split(/[\{\}]/).map((function(n,t){return t%2==0?function(t){return n}:function(t){return t&&n in t?t[n]:""}}));return function(n){var t=Object(u.objectMap)(r,(function(t){return t(n)}));return e.reduce((function(n,r){return n+r(t)}),"")}})),n.setExpression(u.InvokeExpression,(function(n,t){var r=t.getFunction(n.name),e=t.getCommand(r.options.expression),i=Object(u.objectMap)(n.args,(function(n){return t.getCommand(n)}));return function(n){if(!(t.returnProperty in n)){var r=Object(u.objectMap)(i,(function(t){return t(n)}));return e(r),r[t.returnProperty]}}})),n.setExpression(u.ReturnExpression,(function(n,t){var r=t.getCommand(n.value);return function(n){return n[t.returnProperty]=r(n)}})),n.setExpression(u.TupleExpression,(function(n,t){var r=n.expressions.map((function(n){return t.getCommand(n)}));return function(n){return r.map((function(t){return t(n)}))}})),n.setExpression(u.ObjectExpression,(function(n,t){var r=Object(u.objectMap)(n.props,(function(n){return t.getCommand(n)}));return function(n){return Object(u.objectMap)(r,(function(t){return t(n)}))}})),n.setExpression(u.NoExpression,(function(){return function(){}}))},G=function(n){var t=u.AnyOps;n.setOperation(t.cmp,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(u.copy)(n.value(t))}})),n.setOperation(t.isDefined,(function(n){return function(t){var r=n.value(t);return null!=r}})),n.setOperation(t.getDefined,(function(n,t){return function(r){var e=n.value(r),u=null!=e;if(u){var i=c(r,t);r[t.defined]=e,n.defined(r),f(r,i)}return u}})),n.setOperation(t.coalesce,(function(n){return function(t){var r=n.a(t);if(null!=r)return r;var e=n.b(t);if(null!=e)return e;var u=n.c(t);if(null!=u)return u;var i=n.d(t);if(null!=i)return i;var o=n.e(t);return null!=o?o:void 0}})),n.setOperation(t.isValid,(function(n){return function(n){return!0}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(u.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(u.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(t.asColor,(function(n){return function(t){return u.ColorType.baseType.normalize(n.value(t))||{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(u.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return _(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){var r=parseFloat(n.value(t));return isFinite(r)?r:0}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return Object(u.toString)(n.value(t))}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))},V=function(n){var t=u.BooleanOps;n.setOperation(t.create,(function(n){return function(n){return!1}})),n.setOperation(t.maybe,(function(n){return function(t){return m(n.value,t)}})),n.setOperation(t.and,(function(n){return function(t){return p(n.a,t)&&p(n.b,t)}})),n.setOperation(t.or,(function(n){return function(t){return p(n.a,t)||p(n.b,t)}})),n.setOperation(t.xor,(function(n){return function(t){return p(n.a,t)!==p(n.b,t)}})),n.setOperation(t.not,(function(n){return function(t){return!p(n.a,t)}})),n.setOperation(t.cmp,(function(n){return function(t){return(p(n.value,t)?1:0)-(p(n.test,t)?1:0)}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(u.isBoolean)(n.value(t))}})),n.setOperation(t.isTrue,(function(n){return function(t){return p(n.value,t,!1)}})),n.setOperation(t.isFalse,(function(n){return function(t){return!p(n.value,t,!1)}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(t.asColor,(function(n){return function(n){return{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}})),n.setOperation(t.asDate,(function(n){return function(n){return new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return _(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return n.value(t)?1:0}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)?"true":"false"}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))},z=function(){return(z=Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u]);return n}).apply(this,arguments)},R=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],r=0;return t?t.call(n):{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}},W=function(n,t){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var e,u,i=r.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(e=i.next()).done;)o.push(e.value)}catch(n){u={error:n}}finally{try{e&&!e.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o},U=function(n){var t=u.ColorOps;n.setOperation(t.create,(function(){return function(){return{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}})),n.setOperation(t.maybe,(function(n){return function(t){return T(n.value,t)}})),n.setOperation(t.cmp,(function(n){return function(t){return H(j(n.value,t),j(n.test,t),0)}})),n.setOperation(t.copy,(function(n){return function(t){return z({},j(n.value,t))}})),n.setOperation(t.build,(function(n){return function(t){return{r:d(n.r,t,u.COMPONENT_MAX),g:d(n.g,t,u.COMPONENT_MAX),b:d(n.b,t,u.COMPONENT_MAX),a:d(n.a,t,u.COMPONENT_MAX)}}})),n.setOperation(t.map,(function(n,t){return function(r){var e=j(n.value,r),i=c(r,t);r[t.value]=e.r,r[t.component]="r";var o=d(n.r,r,u.COMPONENT_MAX);r[t.value]=e.g,r[t.component]="g";var a=d(n.g,r,u.COMPONENT_MAX);r[t.value]=e.b,r[t.component]="b";var s=d(n.b,r,u.COMPONENT_MAX);r[t.value]=e.a,r[t.component]="a";var l=d(n.a,r,u.COMPONENT_MAX);return f(r,i),{r:o,g:a,b:s,a:l}}})),n.setOperation(t.op,(function(n,t){return function(r){var e=j(n.value,r),i=j(n.test,r),o=c(r,t);r[t.value]=e.r,r[t.test]=i.r,r[t.component]="r";var a=d(n.r,r,u.COMPONENT_MAX);r[t.value]=e.g,r[t.test]=i.g,r[t.component]="g";var s=d(n.g,r,u.COMPONENT_MAX);r[t.value]=e.b,r[t.test]=i.b,r[t.component]="b";var l=d(n.b,r,u.COMPONENT_MAX);r[t.value]=e.a,r[t.test]=i.a,r[t.component]="a";var p=d(n.a,r,u.COMPONENT_MAX);return f(r,o),{r:a,g:s,b:l,a:p}}})),n.setOperation(t.clamp,(function(n){return function(t){var r=j(n.value,t);return{r:Object(u.clampComponent)(r.r),g:Object(u.clampComponent)(r.g),b:Object(u.clampComponent)(r.b),a:Object(u.clampComponent)(r.a)}}})),n.setOperation(t.add,(function(n){return function(t){var r=j(n.value,t),e=X(n.addend,t),u=p(n.alpha,t,!0);return{r:r.r+e.r,g:r.g+e.g,b:r.b+e.b,a:u?r.a+e.a:r.a}}})),n.setOperation(t.adds,(function(n){return function(t){var r=j(n.value,t),e=X(n.addend,t),u=X(n.addendScale,t),i=p(n.alpha,t,!0);return{r:r.r+e.r*u.r,g:r.g+e.g*u.g,b:r.b+e.b*u.b,a:i?r.a+e.a*u.a:r.a}}})),n.setOperation(t.sub,(function(n){return function(t){var r=j(n.value,t),e=X(n.subtrahend,t),u=p(n.alpha,t,!0);return{r:r.r-e.r,g:r.g-e.g,b:r.b-e.b,a:u?r.a-e.a:r.a}}})),n.setOperation(t.mul,(function(n){return function(t){var r=j(n.value,t),e=X(n.multiplier,t),u=p(n.alpha,t,!0);return{r:r.r*e.r,g:r.g*e.g,b:r.b*e.b,a:u?r.a*e.a:r.a}}})),n.setOperation(t.div,(function(n){return function(t){var r=j(n.value,t),e=X(n.divisor,t),u=p(n.alpha,t,!0);return{r:K(r.r,e.r),g:K(r.g,e.g),b:K(r.b,e.b),a:u?K(r.a,e.a):r.a}}})),n.setOperation(t.mod,(function(n){return function(t){var r=j(n.value,t),e=X(n.divisor,t),u=p(n.alpha,t,!0);return{r:r.r%e.r,g:r.g%e.g,b:r.b%e.b,a:u?r.a%e.a:r.a}}})),n.setOperation(t.format,(function(n){return function(t){var r=j(n.value,t),e=g(n.format,t),i=u.ColorType.getFormat(e);return i?i.formatter(r):""}})),n.setOperation(t.parse,(function(n){return function(t){var r=n.value(t);return u.ColorType.baseType.normalize(r)}})),n.setOperation(t.lerp,(function(n){return function(t){var r=j(n.start,t),e=j(n.end,t),u=d(n.delta,t,0);return{r:(e.r-r.r)*u+r.r,g:(e.g-r.g)*u+r.g,b:(e.b-r.b)*u+r.b,a:(e.a-r.a)*u+r.a}}})),n.setOperation(t.lighten,(function(n){return function(t){var r=j(n.value,t),e=d(n.amount,t,0);return{r:r.r+(u.COMPONENT_MAX-r.r)*e,g:r.g+(u.COMPONENT_MAX-r.g)*e,b:r.b+(u.COMPONENT_MAX-r.b)*e,a:r.a+(u.COMPONENT_MAX-r.a)*e}}})),n.setOperation(t.darken,(function(n){return function(t){var r=j(n.value,t),e=1-d(n.amount,t,0);return{r:r.r*e,g:r.g*e,b:r.b*e,a:r.a*e}}})),n.setOperation(t.toHSL,(function(n){return function(t){return u.ColorSpaceHSL.fromColor(j(n.value,t))}})),n.setOperation(t.fromHSL,(function(n){return function(t){return u.ColorSpaceHSL.toColor(N(n.value,t))}})),n.setOperation(t.luminance,(function(n){return function(t){var r=j(n.value,t);return(.2126*r.r+.7152*r.g+.0722*r.b)/u.COMPONENT_MAX}})),n.setOperation(t.contrast,(function(n){return function(t){var r=j(n.value,t),e=j(n.test,t),u=.2126*r.r+.7152*r.g+.0722*r.b,i=.2126*e.r+.7152*e.g+.0722*e.b;return(Math.max(u,i)+.05)/(Math.min(u,i)+.05)}})),n.setOperation(t.invert,(function(n){return function(t){var r=j(n.value,t),e=p(n.alpha,t,!1);return{r:u.COMPONENT_MAX-r.r,g:u.COMPONENT_MAX-r.g,b:u.COMPONENT_MAX-r.b,a:e?u.COMPONENT_MAX-r.a:r.a}}})),n.setOperation(t.opaque,(function(n){return function(t){var r=j(n.value,t);return{r:r.r,g:r.g,b:r.b,a:u.COMPONENT_MAX}}})),n.setOperation(t.alpha,(function(n){return function(t){var r=j(n.value,t);return{r:r.r,g:r.g,b:r.b,a:d(n.alpha,t,u.COMPONENT_MAX)}}})),n.setOperation(t.distance,(function(n){return function(t){return Y(j(n.value,t),j(n.test,t))}})),n.setOperation(t.named,(function(n){return function(t){var r=j(n.name,t);return{r:r.r,g:r.g,b:r.b,a:r.a}}})),n.setOperation(t.getName,(function(n){return function(t){var r,e,i=j(n.value,t),o="",a=-1;try{for(var c=R(u.ColorNames.options.constants.entries()),f=c.next();!f.done;f=c.next()){var s=W(f.value,2),l=s[0],p=Y(i,s[1]);(-1===a||p<a)&&(o=l,a=p)}}catch(n){r={error:n}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}return o}})),n.setOperation(t.blend,(function(n){return function(t){var r=j(n.top,t),e=j(n.bottom,t),u=n.mode(t),i=J[u];return i?{r:i(e.r,r.r),g:i(e.g,r.g),b:i(e.b,r.b),a:r.a}:r}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(u.isColor)(n.value(t))}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===H(j(n.value,t),j(n.test,t),d(n.epsilon,t,0))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==H(j(n.value,t),j(n.test,t),d(n.epsilon,t,0))}})),n.setOperation(t.isLess,(function(n){return function(t){return H(j(n.value,t),j(n.test,t),0)<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return H(j(n.value,t),j(n.test,t),0)<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return H(j(n.value,t),j(n.test,t),0)>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return H(j(n.value,t),j(n.test,t),0)>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(){return function(){return!0}})),n.setOperation(t.asColor,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asDate,(function(){return function(){return new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return _(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){var r=j(n.value,t);return 255&r.r|(255&r.g)<<8|(255&r.b)<<16|(255&r.a)<<24}})),n.setOperation(t.asObject,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asText,(function(n){return function(t){return u.ColorSpaceRGB.formatMap.bestfit.formatter(j(n.value,t))}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))};function H(n,t,r){var e=Math.abs(n.r-t.r)<=r,u=Math.abs(n.g-t.g)<=r,i=Math.abs(n.b-t.b)<=r,o=Math.abs(n.a-t.a)<=r;return e&&u&&i&&o?0:n.r+n.g+n.b+n.a-(t.r+t.g+t.b+t.a)}function K(n,t){return 0===t?0:n/t}function Y(n,t){return Math.abs(n.r-t.r)+Math.abs(n.g-t.g)+Math.abs(n.b-t.b)+Math.abs(n.a-t.a)}function $(n,t){return n*t+u.COMPONENT_MAX>>8}function Q(n,t){return 0===t?0:((n<<8)-n)/t}function Z(n){return u.COMPONENT_MAX-n}var J={multiply:function(n,t){return $(n,t)},screen:function(n,t){return Z($(Z(n),Z(t)))},overlay:function(n,t){return n<127?2*$(n,t):Z(2*$(Z(n),Z(t)))},hard:function(n,t){return t<127?2*$(n,t):Z(2*$(Z(n),Z(t)))},soft:function(n,t){return $(Z(2*t),$(n,n))+2*$(t,n)},dodge:function(n,t){return Q(n,Z(t))},burn:function(n,t){return Q(Z(t),n)},divide:function(n,t){return n===t?u.COMPONENT_MAX:Q(n,t)},addition:function(n,t){return Object(u.clampComponent)(n+t)},sub:function(n,t){return Object(u.clampComponent)(n-t)},diff:function(n,t){return Object(u.clampComponent)(t-n)},darken:function(n,t){return Math.min(n,t)},lighten:function(n,t){return Math.max(n,t)}},nn=function(n){var t=u.DateOps;n.setOperation(t.create,(function(n){return function(n){return new Date}})),n.setOperation(t.now,(function(n){return function(n){return new Date}})),n.setOperation(t.today,(function(n){return function(n){return u.startOf.day(new Date)}})),n.setOperation(t.tomorrow,(function(n){return function(n){return Object(u.mutate)(Object(u.mutate)(new Date,u.startOf.day),(function(n){return u.add.day(n,1)}))}})),n.setOperation(t.yesterday,(function(n){return function(n){return Object(u.mutate)(Object(u.mutate)(new Date,u.startOf.day),(function(n){return u.add.day(n,-1)}))}})),n.setOperation(t.maybe,(function(n){return function(t){return P(n.value,t)}})),n.setOperation(t.parse,(function(n){return function(t){return p(n.parseAsUTC,t,!1)?new u.DateType({parseAsUTC:!0}).normalize(n.value(t)):u.DateType.baseType.normalize(n.value(t))}})),n.setOperation(t.fromText,(function(n){return function(t){return u.DateType.baseType.normalize(g(n.value,t))}})),n.setOperation(t.fromTimestamp,(function(n){return function(t){return new Date(d(n.value,t,Date.now()))}})),n.setOperation(t.fromTimestampSeconds,(function(n){return function(t){return new Date(1e3*d(n.value,t,Date.now()/1e3))}})),n.setOperation(t.min,(function(n){return function(t){var r=A(n.value,t),e=A(n.test,t);return r.valueOf()<e.valueOf()?r:e}})),n.setOperation(t.max,(function(n){return function(t){var r=A(n.value,t),e=A(n.test,t);return r.valueOf()>e.valueOf()?r:e}})),n.setOperation(t.get,(function(n){return function(t){var r=A(n.value,t),e=g(n.property,t,"timestamp");return e in u.getters?u.getters[e](r):-1}})),n.setOperation(t.set,(function(n){return function(t){var r=A(n.value,t),e=g(n.property,t,"timestamp"),i=d(n.set,t,0);return e in u.setters&&(r=new Date(r.getTime()),u.setters[e](r,i)),r}})),n.setOperation(t.add,(function(n){return function(t){var r=A(n.value,t),e=g(n.unit,t,"millis"),i=d(n.amount,t,1);return e in u.add&&(r=new Date(r.getTime()),u.add[e](r,i)),r}})),n.setOperation(t.sub,(function(n){return function(t){var r=A(n.value,t),e=g(n.unit,t,"millis"),i=d(n.amount,t,1);return e in u.add&&(r=new Date(r.getTime()),u.add[e](r,-i)),r}})),n.setOperation(t.startOf,(function(n){return function(t){var r=A(n.value,t),e=g(n.unit,t,"day");return e in u.startOf?Object(u.mutate)(r,u.startOf[e]):r}})),n.setOperation(t.endOf,(function(n){return function(t){var r=A(n.value,t),e=g(n.unit,t,"day");return e in u.endOf?Object(u.mutate)(r,u.endOf[e]):r}})),n.setOperation(t.daysInMonth,(function(n){return function(t){return Object(u.getDaysInMonth)(A(n.value,t))}})),n.setOperation(t.daysInYear,(function(n){return function(t){return Object(u.getDaysInYear)(A(n.value,t))}})),n.setOperation(t.weeksInYear,(function(n){return function(t){return Object(u.getWeeksInYear)(A(n.value,t))}})),n.setOperation(t.copy,(function(n){return function(t){return new Date(A(n.value,t).getTime())}})),n.setOperation(t.cmp,(function(n){return function(t){var r=A(n.value,t),e=A(n.test,t),i=g(n.unit,t,"millis");return i in u.startOf?Object(u.compareDates)(r,e,i):0}})),n.setOperation(t.diff,(function(n){return function(t){var r=A(n.value,t),e=A(n.test,t),i=g(n.unit,t,"millis"),o=p(n.absolute,t,!0),a=g(n.adjust,t,"down");if(!(i in u.diff&&a in u.adjusters))return Number.NaN;var c=u.adjusters[a](u.diff[i](r,e));return o?Math.abs(c):c}})),n.setOperation(t.timezoneOffset,(function(n){return function(t){return Object(u.getDateOffset)(A(n.value,t))}})),n.setOperation(t.toText,(function(n){return function(t){return u.DateFormat.format(g(n.format,t),[A(n.value,t),u.currentLocale])}})),n.setOperation(t.toISOText,(function(n){return function(t){return A(n.value,t).toISOString()}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(u.isDate)(n.value(t))}})),n.setOperation(t.isEqual,(function(r,e){return function(u){return 0===n.getOperation(t.cmp.id)(r,e)(u)}})),n.setOperation(t.isBefore,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<0}})),n.setOperation(t.isBeforeOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<=0}})),n.setOperation(t.isAfter,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>0}})),n.setOperation(t.isAfterOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>=0}})),n.setOperation(t.isBetween,(function(n){return function(t){var r=A(n.value,t),e=A(n.start,t),i=A(n.end,t),o=g(n.unit,t,"millis"),a=p(n.startInclusive,t,!0),c=p(n.endInclusive,t,!1),f=Object(u.compareDates)(r,e,o),s=Object(u.compareDates)(r,i,o);return f>=(a?0:1)&&s<=(c?0:-1)}})),n.setOperation(t.isStartOf,(function(n){return function(t){var r=A(n.value,t),e=g(n.unit,t,"millis");return e in u.startOf&&Object(u.mutate)(r,u.startOf[e]).getTime()===r.getTime()}})),n.setOperation(t.isEndOf,(function(n){return function(t){var r=A(n.value,t),e=g(n.unit,t,"millis");return e in u.endOf&&Object(u.mutate)(r,u.endOf[e]).getTime()===r.getTime()}})),n.setOperation(t.isDST,(function(n){return function(t){return Object(u.isDaylightSavingTime)(A(n.value,t))}})),n.setOperation(t.isLeapYear,(function(n){return function(t){return Object(u.isLeapYear)(A(n.value,t))}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(n){return!0}})),n.setOperation(t.asColor,(function(n){return function(n){return{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(u.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return _(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return A(n.value,t).getTime()}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)+""}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))},tn=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],r=0;return t?t.call(n):{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}},rn=function(n){var t=u.ListOps;n.setOperation(t.create,(function(n){return function(n){return[]}})),n.setOperation(t.maybe,(function(n){return function(t){return M(n.value,t)}})),n.setOperation(t.build,(function(n,t){return function(r){var e=d(n.count,r),u=[];if(e<=0)return u;var i=c(r,t);if(p(n.sameItem,r,!1)){r[t.index]=0,r[t.last]=void 0,r[t.list]=u,r[t.count]=e;for(var o=n.item(r),a=0;a<e;a++)u[a]=o}else{var s=void 0;for(a=0;a<e;a++){r[t.index]=a,r[t.last]=s,r[t.list]=u,r[t.count]=e,s=o=n.item(r),u.push(o)}}return f(r,i),u}})),n.setOperation(t.get,(function(n){return function(t){return y(n.list,t)[d(n.index,t)]}})),n.setOperation(t.set,(function(n){return function(t){var r=y(n.list,t),e=d(n.index,t),u=r[e];return r[e]=n.value(t),u}})),n.setOperation(t.add,(function(n){return function(t){var r=y(n.list,t),e=l(n.item,t);return void 0!==e&&r.push(e),r}})),n.setOperation(t.addFirst,(function(n){return function(t){var r=y(n.list,t),e=l(n.item,t);return void 0!==e&&r.unshift(e),r}})),n.setOperation(t.addLast,(function(n){return function(t){var r=y(n.list,t),e=l(n.item,t);return void 0!==e&&r.push(e),r}})),n.setOperation(t.insert,(function(n){return function(t){var r=y(n.list,t),e=l(n.item,t),u=d(n.index,t,0);return void 0!==e&&r.splice(u,0,e),r}})),n.setOperation(t.remove,(function(n,t){return function(r){return fn(y(n.list,r),r,n,t,n.item(r),(function(n){return 0}),(function(n){return n}),(function(n,t,r){return r.splice(t,1),t}),(function(){return-1}))}})),n.setOperation(t.removeFirst,(function(n,t){return function(t){return y(n.list,t).shift()}})),n.setOperation(t.removeLast,(function(n,t){return function(t){return y(n.list,t).pop()}})),n.setOperation(t.removeAt,(function(n,t){return function(t){var r,e=y(n.list,t),u=d(n.index,t,-1);return u>=0&&u<e.length&&(r=e[u],e.splice(u,1)),r}})),n.setOperation(t.removeWhere,(function(n,t){return function(r){return cn(y(n.list,r),r,t,(function(n){return n-1}),(function(n){return-1}),[],(function(t,e,u,i){return n.where(r)&&(i.push(t),u.splice(e,1)),i}))}})),n.setOperation(t.contains,(function(n,t){return function(r){return fn(y(n.list,r),r,n,t,n.item(r),(function(n){return 0}),(function(n){return n}),(function(){return!0}),(function(){return!1}))}})),n.setOperation(t.find,(function(n,t){return function(r){var e=p(n.reverse,r),u=y(n.list,r),i=u.length,o=d(n.start,r,e?i-1:0),a=Math.max(0,Math.min(i-1,o)),c=e?-1:i;if(e===a>c)return cn(u,r,t,(function(){return o}),(function(){return c}),void 0,(function(t,e){if(n.where(r))return t}),!0)}})),n.setOperation(t.copy,(function(n,t){return function(r){return n.deepCopy?on(y(n.list,r),r,t,(function(e){return e.map((function(e){return r[t.copy]=e,n.deepCopy(r)}))})):y(n.list,r).slice()}})),n.setOperation(t.reverse,(function(n){return function(t){for(var r=y(n.list,t),e=Math.floor(r.length/2),u=0,i=r.length-1;u<e;u++,i--)un(r,u,i);return r}})),n.setOperation(t.exclude,(function(n,t){return function(r){var e,u,i=y(n.list,r),o=y(n.exclude,r);try{for(var a=tn(o),c=a.next();!c.done;c=a.next()){var f=c.value;fn(i,r,n,t,f,(function(n){return 0}),(function(n){return n}),(function(n,t){return i.splice(t,1),!0}),(function(){return!1}))}}catch(n){e={error:n}}finally{try{c&&!c.done&&(u=a.return)&&u.call(a)}finally{if(e)throw e.error}}return i}})),n.setOperation(t.overlap,(function(n,t){return function(r){var e,u,i=y(n.list,r),o=y(n.overlap,r),a=[];try{for(var c=tn(o),f=c.next();!f.done;f=c.next()){var s=f.value;fn(i,r,n,t,s,(function(n){return 0}),(function(n){return n}),(function(){return!0}),(function(){return!1}))&&a.push(s)}}catch(n){e={error:n}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(e)throw e.error}}return a}})),n.setOperation(t.sort,(function(n,t){return function(r){return on(y(n.list,r),r,t,(function(e){return e.sort((function(u,i){return r[t.list]=e,r[t.value]=u,r[t.test]=i,d(n.compare,r,0)})),e}))}})),n.setOperation(t.shuffle,(function(n){return function(t){for(var r=y(n.list,t),e=d(n.times,t,1),u=r.length;--e>=0;)for(var i=0;i<u;i++)un(r,i,Math.floor(Math.random()*u));return r}})),n.setOperation(t.unique,(function(n,t){return function(r){for(var e=y(n.list,r),u={},i=[],o=function(o){if(u[o])return"continue";var a=e[o];fn(e,r,n,t,a,(function(n){return o+1}),(function(n){return n}),(function(n,t){return u[t]=!0}),(function(){return!1}))||i.push(a)},a=0;a<e.length-1;a++)o(a);return i}})),n.setOperation(t.duplicates,(function(n,t){return function(r){for(var e=y(n.list,r),u=p(n.once,r,!1),i={},o=[],a=function(a){var c=e[a];if(i[a]){if(u)return"continue";o.push(c)}fn(e,r,n,t,c,(function(n){return a+1}),(function(n){return n}),(function(n,t){return i[t]=!0}),(function(){return!1}))&&o.push(c)},c=0;c<e.length;c++)a(c);return o}})),n.setOperation(t.take,(function(n){return function(t){return y(n.list,t).slice(0,d(n.count,t))}})),n.setOperation(t.skip,(function(n){return function(t){return y(n.list,t).slice(d(n.count,t))}})),n.setOperation(t.drop,(function(n){return function(t){var r=y(n.list,t),e=d(n.count,t);return r.slice(0,r.length-e)}})),n.setOperation(t.append,(function(n){return function(t){var r=y(n.list,t),e=y(n.append,t);return r.concat(e)}})),n.setOperation(t.prepend,(function(n){return function(t){var r=y(n.list,t);return y(n.prepend,t).concat(r)}})),n.setOperation(t.indexOf,(function(n,t){return function(r){return fn(y(n.list,r),r,n,t,n.item(r),(function(t){return Math.max(0,Math.min(t,d(n.start,r,0)))}),(function(n){return n}),(function(n,t){return t}),(function(){return-1}))}})),n.setOperation(t.lastIndexOf,(function(n,t){return function(r){return fn(y(n.list,r),r,n,t,n.item(r),(function(t){return Math.max(0,Math.min(t-1,d(n.start,r,t-1)))}),(function(n){return-1}),(function(n,t){return t}),(function(){return-1}))}})),n.setOperation(t.findIndex,(function(n,t){return function(r){var e=p(n.reverse,r),u=y(n.list,r),i=u.length,o=d(n.start,r,e?i-1:0),a=Math.max(0,Math.min(i-1,o)),c=e?-1:i;return e!==a>c?-1:cn(u,r,t,(function(){return o}),(function(){return c}),-1,(function(t,e){if(n.where(r))return e}),!0)}})),n.setOperation(t.last,(function(n){return function(t){var r=y(n.list,t);return r[r.length-1]}})),n.setOperation(t.first,(function(n){return function(t){return y(n.list,t)[0]}})),n.setOperation(t.count,(function(n){return function(t){return y(n.list,t).length}})),n.setOperation(t.randomList,(function(n){return function(t){var r=y(n.list,t),e=r.length,u=Math.min(d(n.count,t,0),e);if(u===e)return r.slice();for(var i={},o=[];o.length<u;){var a=Math.floor(Math.random()*e);i[a]||(o.push(r[a]),i[a]=!0)}return o}})),n.setOperation(t.random,(function(n){return function(t){var r=y(n.list,t);return r[Math.floor(Math.random()*r.length)]}})),n.setOperation(t.join,(function(n,t){return function(r){return g(n.prefix,r)+cn(y(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),"",(function(t,e,u,i){return i?i+g(n.delimiter,r,", ")+g(n.toText,r,t):i+g(n.toText,r,t)}))+g(n.suffix,r)}})),n.setOperation(t.each,(function(n,t){return function(r){var e=y(n.list,r),u=p(n.reverse,r,!1);return cn(e,r,t,(function(n){return u?n-1:0}),(function(n){return u?-1:n}),void 0,(function(){return n.each(r)})),e}})),n.setOperation(t.filter,(function(n,t){return function(r){return cn(y(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),[],(function(t,e,u,i){return n.filter(r)&&i.push(t),i}))}})),n.setOperation(t.not,(function(n,t){return function(r){return cn(y(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),[],(function(t,e,u,i){return n.not(r)||i.push(t),i}))}})),n.setOperation(t.map,(function(n,t){return function(r){return cn(y(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),[],(function(t,e,u,i){return i.push(n.transform(r)),i}))}})),n.setOperation(t.split,(function(n,t){return function(r){return cn(y(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),{pass:[],fail:[]},(function(t,e,u,i){return n.pass(r)?i.pass.push(t):i.fail.push(t),i}))}})),n.setOperation(t.reduce,(function(n,t){return function(r){return cn(y(n.list,r),r,t,(function(n){return 0}),(function(n){return n}),n.initial(r),(function(e,u,i,o){return r[t.reduced]=o,n.reduce(r)}))}})),n.setOperation(t.cmp,(function(n,t){return function(r){var e=y(n.value,r),i=y(n.test,r);if(e.length!==i.length)return e.length-i.length;var o=0,a=0;return on(e,r,t,(function(){for(var u=0;u<e.length;u++){r[t.list]=e,r[t.value]=e[u],r[t.test]=i[u];var c=d(n.compare,r,0);c<0?o++:c>0&&a++}})),Object(u.getCompare)(o,a)}})),n.setOperation(t.group,(function(n,t){return function(r){var e=y(n.list,r);return on(e,r,t,(function(){for(var u=new Map,i=[],o=0;o<e.length;o++){var a=e[o];r[t.index]=o,r[t.item]=a,r[t.list]=e;var c=n.by(r),f=u.get(c),s=l(n.getValue,r,a);if(f)f.group.push(s);else{var p={by:c,group:[s]};i.push(p),u.set(c,p)}}return i}))}})),n.setOperation(t.toListMap,(function(n,t){return function(r){var e=y(n.list,r);return on(e,r,t,(function(){for(var u=new Map,i=0;i<e.length;i++){var o=e[i];r[t.index]=i,r[t.item]=o,r[t.list]=e;var a=n.getKey(r),c=u.get(a),f=l(n.getValue,r,o);c?c.push(f):u.set(a,[f])}return u}))}})),n.setOperation(t.toMap,(function(n,t){return function(r){var e=y(n.list,r);return on(e,r,t,(function(){for(var u=new Map,i=0;i<e.length;i++){var o=e[i];r[t.index]=i,r[t.item]=o,r[t.list]=e;var a=n.getKey(r),c=l(n.getValue,r,o);u.set(a,c)}return u}))}})),n.setOperation(t.min,(function(n,t){return function(r){return an(y(n.list,r),r,t,null,(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i=null===i?o:Math.min(o,i)),i}),(function(n){return n}))}})),n.setOperation(t.max,(function(n,t){return function(r){return an(y(n.list,r),r,t,null,(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i=null===i?o:Math.max(o,i)),i}),(function(n){return n}))}})),n.setOperation(t.sum,(function(n,t){return function(r){return an(y(n.list,r),r,t,null,(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i=null===i?o:o+i),i}),(function(n){return n}))}})),n.setOperation(t.avg,(function(n,t){return function(r){return an(y(n.list,r),r,t,{count:0,sum:0},(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i.count++,i.sum+=o),i}),(function(n){return 0===n.count?null:n.sum/n.count}))}})),n.setOperation(t.std,(function(n,t){return function(r){return an(y(n.list,r),r,t,{count:0,sum:0,values:[]},(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i.count++,i.sum+=o,i.values.push(o)),i}),(function(n){if(0===n.count)return null;var t=n.sum/n.count,r=n.values.reduce((function(n,r){return n+(r-t)*(r-t)}),0)/n.count;return Math.sqrt(r)}))}})),n.setOperation(t.variance,(function(n,t){return function(r){return an(y(n.list,r),r,t,{count:0,sum:0,values:[]},(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i.count++,i.sum+=o,i.values.push(o)),i}),(function(n){if(0===n.count)return null;if(1===n.count)return 0;var t=n.sum/n.count,r=n.values.reduce((function(n,r){return n+(r-t)*(r-t)}),0)/(n.count-1);return Math.sqrt(r)}))}})),n.setOperation(t.median,(function(n,t){return function(r){return an(y(n.list,r),r,t,{values:[]},(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&i.values.push(o),i}),(function(n){return 0===n.values.length?null:n.values.length%2==1?n.values[Math.floor(n.values.length/2)]:(n.values[Math.floor(n.values.length/2)-1]+n.values[Math.floor(n.values.length/2)])/2}))}})),n.setOperation(t.bitand,(function(n,t){return function(r){return an(y(n.list,r),r,t,4294967295,(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i&=o),i}),(function(n){return n}))}})),n.setOperation(t.bitor,(function(n,t){return function(r){return an(y(n.list,r),r,t,0,(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i|=o),i}),(function(n){return n}))}})),n.setOperation(t.bitxor,(function(n,t){return function(r){return an(y(n.list,r),r,t,0,(function(t,e,u,i){var o=b(n.value,r);return void 0!==o&&(i^=o),i}),(function(n){return n}))}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(u.isArray)(n.value(t))}})),n.setOperation(t.isEmpty,(function(n,t){return function(t){return 0===y(n.list,t).length}})),n.setOperation(t.isNotEmpty,(function(n,t){return function(t){return y(n.list,t).length>0}})),n.setOperation(t.isEqual,(function(n,t){return function(r){var e=y(n.list,r),u=y(n.test,r);if(e.length!==u.length)return!1;var i=!0;return on(e,r,t,(function(){for(var o=0;o<e.length;o++)if(r[t.list]=e,r[t.value]=e[o],r[t.test]=u[o],!n.isEqual(r)){i=!1;break}})),i}})),n.setOperation(t.isNotEqual,(function(r,e){return function(u){return!n.getOperation(t.isEqual.id)(r,e)(u)}})),n.setOperation(t.isLess,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<0}})),n.setOperation(t.isLessOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<=0}})),n.setOperation(t.isGreater,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>0}})),n.setOperation(t.isGreaterOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return en(n.value,t,u.isBoolean,(function(n){return!Object(u.isEmpty)(n)}))}})),n.setOperation(t.asColor,(function(n){return function(t){return en(n.value,t,u.isColor,(function(){return{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}))}})),n.setOperation(t.asDate,(function(n){return function(t){return en(n.value,t,u.isDate,(function(){return new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return y(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){var r=y(n.value,t);return new Map(r.map((function(n,t){return[t.toString(),n]})))}})),n.setOperation(t.asNumber,(function(n){return function(t){return en(n.value,t,u.isNumber,(function(n){return n.length}))}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return en(n.value,t,u.isString,(function(){return""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))};function en(n,t,r,e){var i=n(t);return Object(u.isArray)(i)&&r(i[0])?i[0]:e(i)}function un(n,t,r){var e=n[t];n[t]=n[r],n[r]=e}function on(n,t,r,e){var u=c(t,r),i=e(n);return f(t,u),i}function an(n,t,r,e,u,i){return on(n,t,r,(function(){for(var o=e,a=0;a<n.length;a++){var c=n[a];t[r.list]=n,t[r.item]=c,t[r.index]=a,o=u(c,a,n,o)}return i(o)}))}function cn(n,t,r,e,u,i,o,a){return void 0===a&&(a=!1),on(n,t,r,(function(){for(var c=n.length,f=e(c),s=u(c),l=f<s?1:-1,p=i;f!==s;){var v=n[f];t[r.list]=n,t[r.item]=v,t[r.index]=f;var O=o(v,f,n,p);if(a){if(void 0!==O)return O}else p=O;n[f]!==v&&1===f||(f+=l)}return p}))}function fn(n,t,r,e,u,i,o,a,c){return on(n,t,e,(function(){for(var f=n.length,s=i(f),l=o(f),p=s<l?1:-1;s!==l;){var v=n[s],O=n[s+p];if(t[e.list]=n,t[e.value]=u,t[e.test]=v,r.isEqual(t)){var m=a(v,s,n);if(void 0!==m)return m;n[s]===O&&(s-=p)}s+=p}return c(n)}))}var sn=function(n){var t="function"==typeof Symbol&&n[Symbol.iterator],r=0;return t?t.call(n):{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}},ln=function(n,t){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var e,u,i=r.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(e=i.next()).done;)o.push(e.value)}catch(n){u={error:n}}finally{try{e&&!e.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o},pn=function(n){var t=u.MapOps;n.setOperation(t.create,(function(n){return function(n){return new Map}})),n.setOperation(t.maybe,(function(n){return function(t){return C(n.value,t)}})),n.setOperation(t.get,(function(n){return function(t){return x(n.map,t).get(n.key(t))}})),n.setOperation(t.set,(function(n,t){return function(r){var e=x(n.map,r),u=n.key(r),i=e.get(u),o=c(r,t);r[t.existingValue]=i;var a=n.value(r);return e.set(u,a),f(r,o),i}})),n.setOperation(t.has,(function(n){return function(t){return x(n.map,t).has(n.key(t))}})),n.setOperation(t.delete,(function(n){return function(t){return x(n.map,t).delete(n.key(t))}})),n.setOperation(t.keys,(function(n){return function(t){return Object(u.toArray)(x(n.map,t).keys())}})),n.setOperation(t.values,(function(n){return function(t){return Object(u.toArray)(x(n.map,t).values())}})),n.setOperation(t.entries,(function(n){return function(t){var r,e,u=x(n.map,t),i={keys:[],values:[]};try{for(var o=sn(u.entries()),a=o.next();!a.done;a=o.next()){var c=ln(a.value,2),f=c[0],s=c[1];i.keys.push(f),i.values.push(s)}}catch(n){r={error:n}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return i}})),n.setOperation(t.pairs,(function(n){return function(t){var r,e,u=x(n.map,t),i=[];try{for(var o=sn(u.entries()),a=o.next();!a.done;a=o.next()){var c=ln(a.value,2),f=c[0],s=c[1];i.push({key:f,value:s})}}catch(n){r={error:n}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return i}})),n.setOperation(t.clear,(function(n){return function(t){var r=x(n.map,t);return r.clear(),r}})),n.setOperation(t.count,(function(n){return function(t){return x(n.map,t).size}})),n.setOperation(t.cmp,(function(n,t){return function(r){var e=x(n.value,r),i=x(n.test,r);return On(e,r,t,(function(){var o,a,c,f,s=0,l=0;try{for(var p=sn(e.entries()),v=p.next();!v.done;v=p.next()){var O=ln(v.value,2),m=O[0],b=O[1];if(i.has(m)){r[t.key]=m,r[t.value]=b,r[t.test]=i.get(m);var g=d(n.compare,r,0);g<0?s++:g>0&&l++}else l++}}catch(n){o={error:n}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}try{for(var h=sn(i.keys()),y=h.next();!y.done;y=h.next()){m=y.value;e.has(m)||s++}}catch(n){c={error:n}}finally{try{y&&!y.done&&(f=h.return)&&f.call(h)}finally{if(c)throw c.error}}return Object(u.getCompare)(s,l)}))}})),n.setOperation(t.copy,(function(n,t){return function(r){var e=x(n.map,r),i=e.entries();if(!n.deepCopy&&!n.deepCopyKey)return new Map(Object(u.toArray)(i));var o=[];return On(e,r,t,(function(){var u,a;try{for(var c=sn(i),f=c.next();!f.done;f=c.next()){var s=ln(f.value,2),p=s[0],v=s[1];r[t.key]=p,r[t.value]=v,r[t.map]=e,o.push([l(n.deepCopyKey,r,p),l(n.deepCopy,r,v)])}}catch(n){u={error:n}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(u)throw u.error}}})),new Map(o)}})),n.setOperation(t.map,(function(n,t){return function(r){var e=x(n.map,r),i=e.entries();if(!n.transform&&!n.transformKey)return new Map(Object(u.toArray)(i));var o=[];return On(e,r,t,(function(){var u,a;try{for(var c=sn(i),f=c.next();!f.done;f=c.next()){var s=ln(f.value,2),p=s[0],v=s[1];r[t.key]=p,r[t.value]=v,r[t.map]=e,o.push([l(n.transformKey,r,p),l(n.transform,r,v)])}}catch(n){u={error:n}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(u)throw u.error}}})),new Map(o)}})),n.setOperation(t.toPlainObject,(function(n){return function(t){var r,e,u=x(n.map,t),i=Object.create(null);try{for(var o=sn(u.entries()),a=o.next();!a.done;a=o.next()){var c=ln(a.value,2),f=c[0],s=c[1];i[f]=s}}catch(n){r={error:n}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}return i}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(u.isMap)(n.value(t))}})),n.setOperation(t.isEqual,(function(n,t){return function(r){var e=x(n.value,r),u=x(n.test,r);return e.size===u.size&&On(e,r,t,(function(){var i,o;try{for(var a=sn(e.entries()),c=a.next();!c.done;c=a.next()){var f=ln(c.value,2),s=f[0],l=f[1];if(!u.has(s))return!1;if(r[t.key]=s,r[t.value]=l,r[t.test]=u.get(s),!n.isEqual(r))return!1}}catch(n){i={error:n}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return!0}))}})),n.setOperation(t.isNotEqual,(function(r,e){return function(u){return!n.getOperation(t.isEqual.id)(r,e)(u)}})),n.setOperation(t.isLess,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<0}})),n.setOperation(t.isLessOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)<=0}})),n.setOperation(t.isGreater,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>0}})),n.setOperation(t.isGreaterOrEqual,(function(r,e){return function(u){return n.getOperation(t.cmp.id)(r,e)(u)>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return vn(n.value,t,u.isBoolean,(function(n){return n.size>0}))}})),n.setOperation(t.asDate,(function(n){return function(t){return vn(n.value,t,u.isDate,(function(n){return new Date}))}})),n.setOperation(t.asColor,(function(n){return function(t){return vn(n.value,t,u.isColor,(function(){return{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}))}})),n.setOperation(t.asList,(function(n){return function(t){return Object(u.toArray)(x(n.value,t).values())}})),n.setOperation(t.asMap,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asNumber,(function(n){return function(t){return vn(n.value,t,u.isNumber,(function(n){return n.size}))}})),n.setOperation(t.asObject,(function(n){return function(t){return vn(n.value,t,u.isObject,(function(n){return{value:n}}))}})),n.setOperation(t.asText,(function(n){return function(t){return vn(n.value,t,u.isString,(function(n){return""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return vn(n.value,t,u.isArray,(function(n){return[n]}))}}))};function vn(n,t,r,e){var i=n(t);return Object(u.isMap)(i)&&r(i.get("value"))?i.get("value"):e(i)}function On(n,t,r,e){var u=c(t,r),i=e(n);return f(t,u),i}var mn=function(n,t){void 0===t&&(t=1e-6);var r=u.NumberOps;n.setOperation(r.create,(function(n){return function(n){return 0}})),n.setOperation(r.pi,(function(n){return function(n){return Math.PI}})),n.setOperation(r.pi2,(function(n){return function(n){return Math.PI+Math.PI}})),n.setOperation(r.piHalf,(function(n){return function(n){return.5*Math.PI}})),n.setOperation(r.e,(function(n){return function(n){return Math.E}})),n.setOperation(r.sqrt2,(function(n){return function(n){return Math.SQRT2}})),n.setOperation(r.sqrt12,(function(n){return function(n){return Math.SQRT1_2}})),n.setOperation(r.ln2,(function(n){return function(n){return Math.LN2}})),n.setOperation(r.ln10,(function(n){return function(n){return Math.LN10}})),n.setOperation(r.log2e,(function(n){return function(n){return Math.LOG2E}})),n.setOperation(r.log10e,(function(n){return function(n){return Math.LOG10E}})),n.setOperation(r.add,(function(n){return function(t){return d(n.value,t)+d(n.addend,t)}})),n.setOperation(r.sub,(function(n){return function(t){return d(n.value,t)-d(n.subtrahend,t)}})),n.setOperation(r.mul,(function(n){return function(t){return d(n.value,t)*d(n.multiplier,t)}})),n.setOperation(r.div,(function(n){return function(t){return d(n.value,t)%d(n.divisor,t)}})),n.setOperation(r.mod,(function(n){return function(t){return d(n.value,t)%d(n.divisor,t)}})),n.setOperation(r.min,(function(n){return function(t){return Math.min(d(n.a,t),d(n.b,t))}})),n.setOperation(r.max,(function(n){return function(t){return Math.max(d(n.a,t),d(n.b,t))}})),n.setOperation(r.pow,(function(n){return function(t){return Math.pow(d(n.value,t),d(n.exponent,t))}})),n.setOperation(r.atan2,(function(n){return function(t){return Math.atan2(d(n.y,t),d(n.x,t))}})),n.setOperation(r.hypot,(function(n){return function(t){var r=d(n.a,t),e=d(n.b,t);return Math.sqrt(r*r+e*e)}})),n.setOperation(r.choose,(function(n){return function(t){var r=d(n.n,t),e=d(n.k,t);return isFinite(r)&&isFinite(e)?function(n,t){var r=1,e=1,u=0;t>n>>1&&(t=n-t);for(;t>=1;)r*=n--,e*=t--,u=dn(r,e),r/=u,e/=u;return r}(r,e):Number.NaN}})),n.setOperation(r.gcd,(function(n){return function(t){var r=d(n.a,t),e=d(n.b,t);return isFinite(r)&&isFinite(e)?dn(r,e):Number.NaN}})),n.setOperation(r.bitAnd,(function(n){return function(t){return d(n.a,t)&d(n.b,t)}})),n.setOperation(r.bitOr,(function(n){return function(t){return d(n.a,t)|d(n.b,t)}})),n.setOperation(r.bitXor,(function(n){return function(t){return d(n.a,t)^d(n.b,t)}})),n.setOperation(r.cmp,(function(n){return function(t){return d(n.value,t)-d(n.test,t)}})),n.setOperation(r.maybe,(function(n){return function(t){return b(n.value,t)}})),n.setOperation(r.sqrt,(function(n){return function(t){return Math.sqrt(d(n.value,t))}})),n.setOperation(r.sq,(function(n){return function(t){var r=d(n.value,t);return r*r}})),n.setOperation(r.cbrt,(function(n){return function(t){return Math.cbrt(d(n.value,t))}})),n.setOperation(r.floor,(function(n){return function(t){return Math.floor(d(n.value,t))}})),n.setOperation(r.ceil,(function(n){return function(t){return Math.ceil(d(n.value,t))}})),n.setOperation(r.up,(function(n){return function(t){var r=d(n.value,t);return r<0?Math.ceil(r):Math.floor(r)}})),n.setOperation(r.down,(function(n){return function(t){var r=d(n.value,t);return r>0?Math.ceil(r):Math.floor(r)}})),n.setOperation(r.round,(function(n){return function(t){return Math.round(d(n.value,t))}})),n.setOperation(r.abs,(function(n){return function(t){return Math.abs(d(n.value,t))}})),n.setOperation(r.neg,(function(n){return function(t){return-d(n.value,t)}})),n.setOperation(r.sign,(function(n){return function(t){var r=d(n.value,t);return 0===r?0:r<0?-1:1}})),n.setOperation(r.log,(function(n){return function(t){return Math.log(d(n.value,t))}})),n.setOperation(r.sin,(function(n){return function(t){return Math.sin(d(n.value,t))}})),n.setOperation(r.cos,(function(n){return function(t){return Math.cos(d(n.value,t))}})),n.setOperation(r.tan,(function(n){return function(t){return Math.tan(d(n.value,t))}})),n.setOperation(r.sinh,(function(n){return function(t){return Math.sinh(d(n.value,t))}})),n.setOperation(r.cosh,(function(n){return function(t){return Math.cosh(d(n.value,t))}})),n.setOperation(r.asin,(function(n){return function(t){return Math.asin(d(n.value,t))}})),n.setOperation(r.acos,(function(n){return function(t){return Math.acos(d(n.value,t))}})),n.setOperation(r.atan,(function(n){return function(t){return Math.atan(d(n.value,t))}})),n.setOperation(r.factorial,(function(n){return function(t){var r=d(n.value,t);return isFinite(r)?function(n){var t=n;for(;--n>1;)t*=n;return t}(r):r}})),n.setOperation(r.bitFlip,(function(n){return function(t){return~d(n.value,t)}})),n.setOperation(r.clamp,(function(n){return function(t){return Math.max(d(n.min,t),Math.min(d(n.value,t),d(n.max,t)))}})),n.setOperation(r.triangleHeight,(function(n){return function(t){var r=d(n.base,t),e=d(n.side1,t),u=d(n.side2,t);return isFinite(r)&&isFinite(e)&&isFinite(u)?function(n,t,r){var e=(n+t+r)*bn;return Math.sqrt(e*(e-n)*(e-t)*(e-r))*gn/n}(r,e,u):Number.NaN}})),n.setOperation(r.lerp,(function(n){return function(t){var r=d(n.start,t);return(d(n.end,t)-r)*d(n.delta,t)+r}})),n.setOperation(r.rnd,(function(n){return function(t){var r=d(n.min,t,0),e=d(n.max,t,1)-r,u=p(n.whole,t,!1),i=p(n.includeMax,t,!0);return u?i?Math.floor((e+1)*Math.random())+r:Math.floor(e*Math.random())+r:Math.random()*e+r}})),n.setOperation(r.toBaseText,(function(n){return function(t){var r=d(n.value,t);if(!isFinite(r))return r;for(var e=d(n.base,t,10),u=d(n.minDigits,t,0),i=r.toString(e);i.length<u;)i="0"+i;return i}})),n.setOperation(r.toText,(function(n){return function(t){var r=d(n.value,t);if(!isFinite(r))return r;var e=g(n.prefix,t),i=g(n.suffix,t),o=b(n.minPlaces,t),a=b(n.maxPlaces,t),c=p(n.useExponent,t,!1),f=h(n.thousandSeparator,t),s="";s=c?r.toExponential(Object(u.isUndefined)(a)?o:a):Object(u.isNumber)(o)?r.toFixed(o):r.toPrecision(a);if(Object(u.isString)(f)){var l=1.1.toLocaleString().substring(1,2),v=s.indexOf(l);for(-1===v&&(v=s.length),v-=3;v>0;)s=s.substring(0,v)+f+s.substring(v),v-=3}return e+s+i}})),n.setOperation(r.isValid,(function(n){return function(t){return Object(u.isNumber)(n.value(t))}})),n.setOperation(r.isZero,(function(n){return function(r){return Math.abs(d(n.value,r))<=d(n.epsilon,r,t)}})),n.setOperation(r.isEqual,(function(n){return function(r){return Math.abs(d(n.value,r)-d(n.test,r))<=d(n.epsilon,r,t)}})),n.setOperation(r.isNotEqual,(function(n){return function(r){return Math.abs(d(n.value,r)-d(n.test,r))>d(n.epsilon,r,t)}})),n.setOperation(r.isLess,(function(n){return function(t){return d(n.value,t)<d(n.test,t)}})),n.setOperation(r.isLessOrEqual,(function(n){return function(t){return d(n.value,t)<=d(n.test,t)}})),n.setOperation(r.isGreater,(function(n){return function(t){return d(n.value,t)>d(n.test,t)}})),n.setOperation(r.isGreaterOrEqual,(function(n){return function(t){return d(n.value,t)>=d(n.test,t)}})),n.setOperation(r.isBetween,(function(n){return function(t){var r=d(n.value,t),e=d(n.min,t),u=d(n.max,t),i=p(n.minInclusive,t,!0),o=p(n.maxInclusive,t,!0);return r-e>=(i?0:1)&&r-u<=(o?0:-1)}})),n.setOperation(r.isWhole,(function(n){return function(r){var e=d(n.value,r),i=d(n.epsilon,r,t);return Object(u.isWhole)(e,i)}})),n.setOperation(r.isDecimal,(function(n){return function(r){var e=d(n.value,r),i=d(n.epsilon,r,t);return!Object(u.isWhole)(e,i)}})),n.setOperation(r.isPositive,(function(n){return function(t){return d(n.value,t)>=0}})),n.setOperation(r.isNegative,(function(n){return function(t){return d(n.value,t)<0}})),n.setOperation(r.isDivisible,(function(n){return function(r){return Math.abs(d(n.value,r)%d(n.by,r))<=d(n.epsilon,r,t)}})),n.setOperation(r.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(r.asBoolean,(function(n){return function(t){return!!n.value(t)}})),n.setOperation(r.asColor,(function(n){return function(t){var r=d(n.value,t);return{r:255&r,g:r>>8&255,b:r>>16&255,a:r>>24&255}}})),n.setOperation(r.asDate,(function(n){return function(t){return Object(u.parse)(n.value(t))||new Date}})),n.setOperation(r.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(r.asMap,(function(n){return function(t){return _(n.value,t)}})),n.setOperation(r.asNumber,(function(n){return function(t){return n.value(t)}})),n.setOperation(r.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(r.asText,(function(n){return function(t){return n.value(t)+""}})),n.setOperation(r.asTuple,(function(n){return function(t){return L(n.value,t)}}))};function dn(n,t){for(var r=Math.abs(n),e=Math.abs(t),u=Math.max(r,e),i=Math.min(r,e);;){if(0===i)return u;if(0===(u%=i))return i;i%=u}}var bn=.5,gn=2;var hn=function(n){var t=u.ObjectOps;function r(n,t){if(Object(u.isObject)(t))for(var r in t){var e=t[r];null!=e&&(n[r]=e)}}n.setOperation(t.create,(function(n){return function(n){return Object.create(null)}})),n.setOperation(t.maybe,(function(n){return function(t){return E(n.value,t)}})),n.setOperation(t.has,(function(n){return function(t){return n.key(t)in N(n.object,t)}})),n.setOperation(t.get,(function(n){return function(t){return N(n.object,t)[n.key(t)]}})),n.setOperation(t.set,(function(n,t){return function(r){var e=N(n.object,r),u=n.key(r),i=c(r,t);r[t.existingValue]=e[u];var o=n.value(r);return e[u]=o,f(r,i),e}})),n.setOperation(t.delete,(function(n){return function(t){var r=N(n.object,t),e=n.key(t),u=r[e];return delete r[e],u}})),n.setOperation(t.cmp,(function(n){return function(t){return Object(u.compare)(N(n.value,t),N(n.test,t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(u.copy)(N(n.object,t))}})),n.setOperation(t.merge,(function(n){return function(t){var e={};return r(e,n.a(t)),r(e,n.b(t)),r(e,l(n.c,t)),r(e,l(n.d,t)),r(e,l(n.e,t)),e}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(u.isObject)(n.value(t))}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(u.compare)(N(n.value,t),N(n.test,t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(u.compare)(N(n.value,t),N(n.test,t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(u.compare)(N(n.value,t),N(n.test,t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(u.compare)(N(n.value,t),N(n.test,t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(u.compare)(N(n.value,t),N(n.test,t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(u.compare)(N(n.value,t),N(n.test,t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return yn(n.value,t,u.isBoolean,(function(){return!0}))}})),n.setOperation(t.asColor,(function(n){return function(t){var r=n.value(t);return Object(u.isObject)(r)&&Object(u.isColor)(r.value)?r.value:u.ColorType.baseType.normalize(r)||{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}})),n.setOperation(t.asDate,(function(n){return function(t){return yn(n.value,t,u.isDate,(function(){return new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return yn(n.value,t,u.isArray,(function(n){return Object(u.isEmpty)(n)?[]:[n]}))}})),n.setOperation(t.asMap,(function(n){return function(t){return yn(n.value,t,u.isMap,(function(n){return Object(u.isEmpty)(n)?new Map:new Map([["value",n]])}))}})),n.setOperation(t.asNumber,(function(n){return function(t){return yn(n.value,t,u.isNumber,(function(){return 0}))}})),n.setOperation(t.asObject,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asText,(function(n){return function(t){return yn(n.value,t,u.isString,(function(n){return Object(u.toString)(n)}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return yn(n.value,t,u.isArray,(function(n){return[n]}))}}))};function yn(n,t,r,e){var i=n(t);return Object(u.isObject)(i)&&r(i.value)?i.value:e(i)}var Mn=r(1),xn=r.n(Mn),Cn=function(n){var t=u.TextOps;n.setOperation(t.create,(function(n){return function(n){return""}})),n.setOperation(t.maybe,(function(n){return function(t){return h(n.value,t)}})),n.setOperation(t.append,(function(n){return function(t){return g(n.value,t)+g(n.append,t)}})),n.setOperation(t.prepend,(function(n){return function(t){return g(n.prepend,t)+g(n.value,t)}})),n.setOperation(t.lower,(function(n){return function(t){return g(n.value,t).toLowerCase()}})),n.setOperation(t.upper,(function(n){return function(t){return g(n.value,t).toUpperCase()}})),n.setOperation(t.char,(function(n){return function(t){var r=g(n.value,t),e=d(n.index,t);return e<=r.length?r.charAt(e):g(n.outside,t)}})),n.setOperation(t.replace,(function(n){return function(t){return g(n.value,t).replace(g(n.find,t),g(n.replace,t))}})),n.setOperation(t.repeat,(function(n){return function(t){for(var r=d(n.value,t),e=d(n.times,t),u="";--e>=0;)u+=r;return u}})),n.setOperation(t.split,(function(n){return function(t){return g(n.value,t).split(g(n.by,t),b(n.limit,t))}})),n.setOperation(t.chars,(function(n){return function(t){return g(n.value,t).split("")}})),n.setOperation(t.sub,(function(n){return function(t){return g(n.value,t).substring(d(n.start,t,0),b(n.end,t))}})),n.setOperation(t.indexOf,(function(n){return function(t){return g(n.value,t).indexOf(g(n.search,t),b(n.start,t))}})),n.setOperation(t.lastIndexOf,(function(n){return function(t){return g(n.value,t).lastIndexOf(g(n.search,t),b(n.start,t))}})),n.setOperation(t.trim,(function(n){return function(t){var r=g(n.value,t);return p(n.start,t,!0)&&(r=r.replace(/^\w+/,"")),p(n.end,t,!0)&&(r=r.replace(/\w+$/,"")),r}})),n.setOperation(t.startsWith,(function(n){return function(t){var r=g(n.value,t),e=g(n.test,t);return r.substring(0,e.length)===e}})),n.setOperation(t.endsWith,(function(n){return function(t){var r=g(n.value,t),e=g(n.test,t);return r.substring(r.length-e.length)===e}})),n.setOperation(t.soundex,(function(n){var t=/[^a-z]/g,r=/[^bfpvcgjkqsxzdtlmnr]/g,e={b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,d:3,t:3,l:4,m:5,n:5,r:6};return function(u){for(var i=g(n.value,u),o=b(n.max,u),a=d(n.min,u,4),c=(i=(i=(i=i.toLowerCase()).replace(t,"")).charAt(0)+i.substring(1).replace(r,"")).charAt(0),f=1;f<i.length;f++)c+=e[i.charAt(f)];var s=c.charAt(1);for(f=2;f<c.length;f++)c.charAt(f)===s?(c=c.substring(0,f)+c.substring(f+1),f--):s=c.charAt(f);for(isFinite(o)&&(c=c.substring(0,o+1));c.length<a;)c+="0";return c}})),n.setOperation(t.metaphone,(function(n){return function(t){return xn()(g(n.value,t))}})),n.setOperation(t.distance,(function(n){return function(t){return function(n,t){for(var r=Array(t.length+1).fill(null).map((function(){return Array(n.length+1).fill(null)})),e=0;e<=n.length;e+=1)r[0][e]=e;for(var u=0;u<=t.length;u+=1)r[u][0]=u;for(u=1;u<=t.length;u+=1)for(e=1;e<=n.length;e+=1){var i=n[e-1]===t[u-1]?0:1;r[u][e]=Math.min(r[u][e-1]+1,r[u-1][e]+1,r[u-1][e-1]+i)}return r[t.length][n.length]}(g(n.value,t),g(n.test,t))}})),n.setOperation(t.length,(function(n){return function(t){return g(n.value,t).length}})),n.setOperation(t.compare,(function(n){return function(t){return Nn(g(n.value,t),g(n.test,t),p(n.ignoreCase,t,!1))}})),n.setOperation(t.like,(function(n){return function(t){var r=g(n.value,t),e=g(n.pattern,t),u=p(n.ignoreCase,t,!1),i=u?r.toLowerCase():r,o=(u?e.toLowerCase():e).split("%").map((function(n){return n?n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):n})).join(".*"),a=new RegExp("^"+o+"$");return!!i.match(a)}})),n.setOperation(t.pad,(function(n){return function(t){var r=g(n.value,t),e=g(n.padding,t)||" ",u=p(n.append,t),i=d(n.min,t),o=b(n.max,t);if(u)for(;r.length<i;)r+=e;else for(;r.length<i;)r=e+r;return void 0!==o&&r.length>o&&(r=u?r.substring(0,o):r.substring(o-r.length,o)),r}})),n.setOperation(t.regexTest,(function(n){return function(t){var r=g(n.value,t);return S(n.regex,t,!1,n.ignoreCase,n.multiline).test(r)}})),n.setOperation(t.regexSplit,(function(n){return function(t){var r=g(n.value,t),e=S(n.regex,t,!1,n.ignoreCase,n.multiline),u=b(n.limit,t);return r.split(e,u)}})),n.setOperation(t.regexMatch,(function(n){return function(t){var r=g(n.value,t),e=S(n.regex,t,!0,n.ignoreCase,n.multiline);return r.match(e)}})),n.setOperation(t.regexMatchAll,(function(n){return function(t){for(var r,e=g(n.value,t),u=S(n.regex,t,!0,n.ignoreCase,n.multiline),i=[],o=0;null!==(r=u.exec(e));){if(o===u.lastIndex)return i;o=u.lastIndex,i.push({index:r.index,lastIndex:u.lastIndex,input:r.input,groups:r.slice()})}return i}})),n.setOperation(t.regexReplace,(function(n){return function(t){var r=g(n.value,t),e=S(n.regex,t,n.all,n.ignoreCase,n.multiline),u=g(n.replacement,t);return r.replace(e,u)}})),n.setOperation(t.regexReplaceDynamic,(function(n,t){return function(r){var e=g(n.value,r),u=S(n.regex,r,n.all,n.ignoreCase,n.multiline);return s(r,[t.match],(function(){return e.replace(u,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=Array.prototype.slice.call(e);o.pop();var a=o.shift(),c=parseInt(o.pop()),f=u.lastIndex,s=o;return r[t.match]={index:c,lastIndex:f,input:a,groups:s},n.replace(r)}))}))}})),n.setOperation(t.regexIndexOf,(function(n){return function(t){var r=g(n.value,t),e=S(n.regex,t,!0,n.ignoreCase,n.multiline);return r.search(e)}})),n.setOperation(t.toNumber,(function(n){return function(t){var r=parseFloat(g(n.value,t));return isFinite(r)?r:d(n.invalidValue,t,0)}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(u.isString)(n.value(t))}})),n.setOperation(t.isEmpty,(function(n){return function(t){return 0===g(n.value,t).length}})),n.setOperation(t.isNotEmpty,(function(n){return function(t){return 0!==g(n.value,t).length}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Nn(g(n.a,t),g(n.b,t),p(n.ignoreCase,t,!1))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Nn(g(n.a,t),g(n.b,t),p(n.ignoreCase,t,!1))}})),n.setOperation(t.isLess,(function(n){return function(t){return Nn(g(n.value,t),g(n.test,t),p(n.ignoreCase,t,!1))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Nn(g(n.value,t),g(n.test,t),p(n.ignoreCase,t,!1))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Nn(g(n.value,t),g(n.test,t),p(n.ignoreCase,t,!1))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Nn(g(n.value,t),g(n.test,t),p(n.ignoreCase,t,!1))>=0}})),n.setOperation(t.isLower,(function(n){return function(t){var r=g(n.value,t);return 0===r.localeCompare(r.toLowerCase())}})),n.setOperation(t.isUpper,(function(n){return function(t){var r=g(n.value,t);return 0===r.localeCompare(r.toUpperCase())}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return/^(true|t|1|y|x)$/.test(g(n.value,t))}})),n.setOperation(t.asColor,(function(n){return function(t){return u.ColorType.baseType.normalize(n.value(t))||{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}})),n.setOperation(t.asDate,(function(n){return function(t){return Object(u.parse)(n.value(t))||new Date}})),n.setOperation(t.asList,(function(n){return function(t){return w(n.value,t)}})),n.setOperation(t.asMap,(function(n){return function(t){return _(n.value,t)}})),n.setOperation(t.asNumber,(function(n){return function(t){var r=parseFloat(n.value(t));return isFinite(r)?r:0}})),n.setOperation(t.asObject,(function(n){return function(t){return D(n.value,t)}})),n.setOperation(t.asText,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asTuple,(function(n){return function(t){return L(n.value,t)}}))};function Nn(n,t,r){return r?n.toLowerCase().localeCompare(t.toLowerCase()):n.localeCompare(t)}var En=function(n,t){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var e,u,i=r.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(e=i.next()).done;)o.push(e.value)}catch(n){u={error:n}}finally{try{e&&!e.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return o},jn=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(En(arguments[t]));return n},Tn=function(n){var t=u.TupleOps;function r(n,t){Object(u.isArray)(t)?n.push.apply(n,jn(t)):n.push(t)}n.setOperation(t.create,(function(n){return function(n){return[]}})),n.setOperation(t.maybe,(function(n){return function(t){return M(n.value,t)}})),n.setOperation(t.cmp,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))}})),n.setOperation(t.copy,(function(n){return function(t){return Object(u.copy)(n.value(t))}})),n.setOperation(t.build,(function(n){return function(t){var e=[];return r(e,n.a(t)),r(e,n.b(t)),r(e,l(n.c,t)),r(e,l(n.d,t)),r(e,l(n.e,t)),e}})),n.setOperation(t.get,(function(n){return function(t){return y(n.value,t)[d(n.index,t,0)]}})),n.setOperation(t.set,(function(n){return function(t){var r=y(n.value,t),e=d(n.index,t,0),u=r[e];return r[e]=n.element(t),u}})),n.setOperation(t.isValid,(function(n){return function(t){return Object(u.isArray)(n.value(t))}})),n.setOperation(t.isEqual,(function(n){return function(t){return 0===Object(u.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isNotEqual,(function(n){return function(t){return 0!==Object(u.compare)(n.value(t),n.test(t))}})),n.setOperation(t.isLess,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))<0}})),n.setOperation(t.isLessOrEqual,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))<=0}})),n.setOperation(t.isGreater,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))>0}})),n.setOperation(t.isGreaterOrEqual,(function(n){return function(t){return Object(u.compare)(n.value(t),n.test(t))>=0}})),n.setOperation(t.asAny,(function(n){return function(t){return n.value(t)}})),n.setOperation(t.asBoolean,(function(n){return function(t){return An(n.value,t,u.isBoolean,(function(n){return n.find&&n.find(u.isBoolean)||!1}))}})),n.setOperation(t.asColor,(function(n){return function(t){return An(n.value,t,u.isColor,(function(){return{r:u.COMPONENT_MAX,g:u.COMPONENT_MAX,b:u.COMPONENT_MAX,a:u.COMPONENT_MAX}}))}})),n.setOperation(t.asDate,(function(n){return function(t){return An(n.value,t,u.isDate,(function(n){return n.find&&n.find(u.isDate)||new Date}))}})),n.setOperation(t.asList,(function(n){return function(t){return An(n.value,t,u.isArray,(function(n){return Object(u.isEmpty)(n)?[]:[n]}))}})),n.setOperation(t.asMap,(function(n){return function(t){return An(n.value,t,u.isMap,(function(n){return Object(u.isEmpty)(n)?new Map:new Map([["value",n]])}))}})),n.setOperation(t.asNumber,(function(n){return function(t){return An(n.value,t,u.isNumber,(function(n){return n.find&&n.find(u.isNumber)||0}))}})),n.setOperation(t.asObject,(function(n){return function(t){return An(n.value,t,u.isObject,(function(n){return{value:n}}))}})),n.setOperation(t.asText,(function(n){return function(t){return An(n.value,t,u.isString,(function(n){return n.find&&n.find(u.isString)||""}))}})),n.setOperation(t.asTuple,(function(n){return function(t){return n.value(t)}}))};function An(n,t,r,e){var i=n(t);return Object(u.isArray)(i)&&r(i[0])?i[0]:e(i)}r.d(t,"LiveRuntimeImpl",(function(){return o})),r.d(t,"LiveRuntime",(function(){return a})),r.d(t,"addLiveExpressions",(function(){return B})),r.d(t,"addLiveAny",(function(){return G})),r.d(t,"addLiveBoolean",(function(){return V})),r.d(t,"addLiveColor",(function(){return U})),r.d(t,"addLiveDate",(function(){return nn})),r.d(t,"addLiveList",(function(){return rn})),r.d(t,"addLiveMap",(function(){return pn})),r.d(t,"addLiveNumber",(function(){return mn})),r.d(t,"addLiveObject",(function(){return hn})),r.d(t,"addLiveText",(function(){return Cn})),r.d(t,"addLiveTuple",(function(){return Tn})),B(a),G(a),V(a),U(a),nn(a),rn(a),pn(a),mn(a),hn(a),Cn(a),Tn(a)}])}));
//# sourceMappingURL=expangine-runtime-live.js.map